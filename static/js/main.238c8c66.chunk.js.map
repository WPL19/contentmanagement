{"version":3,"sources":["static/images/logo.png","CBase.ts","consts.ts","me/VMe.tsx","me/CMe.tsx","ui/main.tsx","page/VMain.tsx","page/VEditPage.tsx","page/VShowPage.tsx","page/VPickTemplate.tsx","page/VRedactModule.tsx","page/VPinkBranch.tsx","page/CPage.tsx","posts/VMain.tsx","tonva/CApp/tools/pureJsonContent.tsx","tonva/CApp/cUq/reactBoxId.tsx","posts/VEdit.tsx","posts/VShow.tsx","posts/VPickImage.tsx","posts/VPickTemplate.tsx","posts/VRelease .tsx","posts/CPosts.tsx","media/VMain.tsx","media/VShowImg.tsx","media/VEdit.tsx","media/CMedia.tsx","templets/VEdit.tsx","templets/VMain.tsx","templets/VShow.tsx","templets/CTemplets.tsx","CApp.ts","configuration.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","CUqBase","this","_cApp","_uqs","CBase","consts","CSub","uqPromotion","uqWarehouse","uqSalesTask","uqCustomer","uqProduct","uqCommon","appIcon","headerClass","VMe","onSaved","resId","mediaPath","getMediaPath","closePage","onupload","openPageElement","page","observer","controller","pageMedia","user","searchMadiaKey","console","log","left","onClick","className","name","size","header","headerClassName","param","nav","resUrl","substr","member","VPage","observable","PageMedia","searchQuery","searchMediaQuery","firstSize","pageSize","pageStart","undefined","ret","item","id","PageItems","CMe","key","a","async","uqs","webBuilder","SearchImage","first","saveItem","author","Image","save","items","find","v","_","merge","$update","Date","current","$create","unshift","render","renderView","tab","color","selected","VMain","cMe","cPosts","cMedia","cTemplets","cPage","faceTabs","label","icon","content","onShown","loadList","notify","map","caption","TabCaptionComponent","tabs","openPage","onAdd","searchwebPage","right","renderItem","itemClick","showDetail","index","itemRow","titel","isMe","Tuid","equ","nick","date","VEditPage","form","onClickSaveButton","buttonClick","onFormButtonClick","context","data","templateContent","boxId","tv","values","uiSchema","widget","discription","placeholder","rows","template","pickId","pickTemplate","Templet","submit","schema","type","required","ref","formData","onButtonClick","requiredFlag","style","textAlign","VShowPage","onRedact","itemsModule","onCommonalityModule","ondisplay","lock","addModule","fontWeight","padding","marginBottom","fontSize","openVPage","length","showDetailModule","sort","borderBottom","height","onRemove","VPickTemplate","pageTemplate","searchTemplateKey","onSearch","back","onScrollBottom","more","onPickedTemplate","Discount","list","value","title","checked","onChange","evt","val","currentTarget","dateVisible","setValue","defaultChecked","Widget","VResacModule","currentModule","saveItemModule","onAddMap","branchType","WidgetClass","defaultValue","VPickBranch","searchBranch","searchBranchKey","onPickedBranch","SearchWebPage","searchPageQuery","SearchBranch","searchBranchQuery","PageTemplate","searchTemplateQuery","CPage","searchPageKey","SearchTemplate","WebPage","Branch","returnCall","Template","vCall","search","WebPageBranch","del","webPage","arr1","branch","SearchPrivateBranch","query","_page","result","add","load","itme","onBtn","flg","pagePosts","searchPostsKey","e","classNames","width","backgroundColor","borderRadius","border","marginLeft","image","tvImage","src","path","PureJSONContent","x","JSON","stringify","Tv","tuidValue","ui","nullUI","ttv","divObj","bi","logContent","boxIdContent","VEdit","imageContent","pickImage","VShow","onShowRelease","VPickImage","onPickedImage","array","deep","subList","publicList","push","findIndex","splice","VRelease","discount","publishPost","clone","arr","i","PagePosts","searchPostsQuery","CPosts","SearchPost","Post","PublishPost","_post","_operator","tags","tagName","onAddClick","copyClick","copy","target","previousElementSibling","innerText","alert","VShowImg","onAddSalesTask","model","mediaId","onUpload","media","saveButton","CMedia","showMedia","templet","contentModule","CTemplets","CApp","newC","showMain","initTabName","CAppBase","appConfig","appName","version","tvs","oem","logo","setSettings","App","onLogined","start","React","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"0FAAAA,EAAOC,QAAU,00T,kVCIKC,EAAtB,6KACuB,OAAOC,KAAKC,QADnC,0BAE+B,OAAOD,KAAKE,SAF3C,GAAsCC,KCJzBC,GDUwBC,ICVf,CAElBC,YAAa,6DACbC,YAAa,6DACbC,YAAa,6DACbC,WAAY,4DACZC,UAAW,2DACXC,SAAU,0DACVC,QAAS,0CACTC,YAAa,oB,eCFJC,GAAb,0PAOYC,QAAU,SAACC,GACf,EAAKC,UAAY,EAAKC,aAAaF,GACnC,EAAKG,aATb,EAiBYC,SAAW,WACf,EAAKC,gBAAgB,gBAAC,IAAD,CAAeN,QAAS,EAAKA,YAlB1D,EAqBYO,KAAOC,aAAS,WAAO,IAAD,EACU,EAAKC,WAAnCC,EADoB,EACpBA,UAGAC,GAJoB,EACTC,eAGF,EAAKH,WAAdE,MACNE,QAAQC,IAAIJ,EAAW,OACvB,IAAIK,EAAO,uBAAKC,QAAS,kBAAM,EAAKX,YAAYY,UAAU,+BAA8B,gBAAC,IAAD,CAAIA,UAAU,2BAA2BC,KAAK,SAASC,KAAK,QACpJ,OAAO,gBAAC,IAAD,CAAMC,OAAO,eAAKC,gBAAiBhC,EAAOS,aAC7C,gBAAC,IAAD,CAAKiB,KAAMA,GACP,2BACI,4DAAWJ,EAAKO,YA/BpC,oEAEeI,GAFf,qIAKyBrB,GAAyB,OAAOsB,IAAIC,OAAUvB,EAAMwB,OAAO,KALpF,6BAaWC,GACH,OAAO,qBAAMnB,KAAN,UAdf,GAAyBoB,KAAzB,uCACKC,KADL,iECAMC,E,YAEF,WAAYC,GAAqB,IAAD,8BAC5B,+CAFIC,sBACwB,EAE5B,EAAKC,UAAY,EAAKC,SAAW,GACjC,EAAKF,iBAAmBD,EAHI,E,kEAMXR,EAAYY,EAAgBD,G,oFAC3BE,IAAdD,IAAyBA,EAAY,G,mBACzBjD,KAAK8C,iBAAiBxB,KAAKe,EAAOY,EAAWD,I,cAAzDG,E,yBACGA,G,oFAEYC,GACnBpD,KAAKiD,eAAqBC,IAATE,EAAqB,EAAIA,EAAKC,O,GAd/BC,KAkBXC,GAAb,4UAKI5B,eAAiB,SAAO6B,GAAP,SAAAC,EAAAC,OAAA,gDACb,EAAKjC,UAAY,IAAImB,EAAU,EAAKe,IAAIC,WAAWC,aACnD,EAAKpC,UAAUqC,MAAM,CAAEN,IAAKA,IAFf,sCALrB,EAaIO,SAAW,SAAOV,EAAShB,GAAhB,iBAAAoB,EAAAC,OAAA,uDACPrB,EAAM2B,OAAS,EAAKtC,KAAK2B,GADlB,WAAAI,EAAA,MAES,EAAKE,IAAIC,WAAWK,MAAMC,KAAKb,EAAIhB,IAF5C,OAEHc,EAFG,OAGHE,QAEaH,KADTE,EAAO,EAAKe,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEhB,KAAOA,QAErCiB,IAAEC,MAAMnB,EAAMf,GACde,EAAKoB,QAAU,IAAIC,MAEvB,EAAKC,QAAUtB,IAGff,EAAMgB,GAAKF,EAAIE,GACfhB,EAAMsC,QAAU,IAAIF,KACpBpC,EAAMmC,QAAU,IAAIC,KACpB,EAAKN,MAAMS,QAAQvC,GACnB,EAAKqC,QAAUrC,GAEnB,EAAKV,eAAe,IAlBb,sCAbf,EAkCIkD,OAAStD,aAAS,WACd,OAAO,EAAKuD,WAAWhE,MAnC/B,EAqCIiE,IAAM,kBAAM,EAAKD,WAAWhE,IArChC,sLAAyBf,GAAzB,uCACK4C,KADL,iGAEKA,KAFL,mGAGKA,KAHL,iECtBMqC,EAAQ,SAACC,GAAD,OAAoC,IAAbA,EAAoB,eAAiB,cAC7DC,EAAb,2MAQIL,OAAS,SAACxC,GAA8B,IAAD,EACa,EAAKb,WAA/C2D,EAD6B,EAC7BA,IAAKC,EADwB,EACxBA,OAAQC,EADgB,EAChBA,OAAQC,EADQ,EACRA,UAAWC,EADH,EACGA,MAClCC,EAAW,CACX,CAAEvD,KAAM,OAAQwD,MAAO,eAAMC,KAAM,QAASC,QAASP,EAAOL,IAAKa,QAASR,EAAOS,SAAUC,YAAQ5C,GACnG,CAAEjB,KAAM,QAASwD,MAAO,eAAMC,KAAM,QAASC,QAASN,EAAON,IAAKa,QAASP,EAAOQ,UAClF,CAAE5D,KAAM,UAAWwD,MAAO,eAAMC,KAAM,QAASC,QAASL,EAAUP,IAAKa,QAASN,EAAUO,UAC1F,CAAE5D,KAAM,OAAQwD,MAAO,eAAMC,KAAM,QAASC,QAASJ,EAAMR,IAAKa,QAASL,EAAMM,UAC/E,CAAE5D,KAAM,KAAMwD,MAAO,eAAMC,KAAM,OAAQC,QAASR,EAAIJ,MACxDgB,KAAI,SAAA1B,GAAM,IACFpC,EAAgDoC,EAAhDpC,KAAMwD,EAA0CpB,EAA1CoB,MAAOC,EAAmCrB,EAAnCqB,KACnB,MAAO,CACHzD,KAAMA,EACN+D,QAAS,SAACf,GAAD,OAAuBgB,YAAoBR,EAAOC,EAAMV,EAAMC,KACvEU,QAJkDtB,EAA7BsB,QAKrBG,OALkDzB,EAApByB,OAM9BF,QANkDvB,EAAZuB,YAS9C,OAAO,gBAAC,IAAD,CAAMzD,QAAQ,EAAOC,gBAAiB,WACzC,gBAAC,IAAD,CAAM8D,KAAMV,MA3BxB,oEACenD,GADf,kEAEQrC,KAAKmG,SAASnG,KAAK6E,QAF3B,sDAA2BnC,KCEdwC,EAAb,kNAQY5D,KAAOC,aAAS,WAAO,IAAD,EACK,EAAKC,WAA9B4E,EADoB,EACpBA,MAAOC,EADa,EACbA,cACTC,EAAQ,0BACRtE,UAAU,qDACVD,QAASqE,GAET,gBAAC,IAAD,CAAInE,KAAK,UAEb,OAAO,gBAAC,IAAD,CAAME,OAAO,eAAKC,gBAAiBhC,EAAOS,YAAayF,MAAOA,GACjE,gBAAC,IAAD,CAAMnC,MAAOkC,EAAejD,KAAM,CAAEyB,OAAQ,EAAK0B,WAAYxE,QAAS,EAAKyE,iBAjBvF,EAqBYA,UAAY,SAACpD,GACjB,EAAK5B,WAAWiF,WAAWrD,EAAKC,KAtBxC,EAyBYkD,WAAa,SAACnD,EAAWsD,GAC7B,OAAO,gBAAC,EAAKC,QAAYvD,IA1BjC,EA6BYuD,QAAUpF,aAAS,SAAC6B,GAAe,IACjCY,EAAiCZ,EAAjCY,OAAQ/B,EAAyBmB,EAAzBnB,KAAMuC,EAAmBpB,EAAnBoB,QAASoC,EAAUxD,EAAVwD,MACzBC,EAAOC,IAAKC,IAAI/C,EAAQ,EAAKxC,WAAWE,KAAK2B,IAI7CiD,EAAQ,uBAAKtE,UAAU,gCACvB,uBAAKA,UAAU,cAAa,gBAAC,IAAD,CAAUqB,GAAIW,EAAQa,OAJnC,SAACnD,GAChB,OAAO,4BAAOmF,EAAO,GAAKnF,EAAKsF,MAAQtF,EAAKO,UAI5C,uBAAKD,UAAU,SAAQ,gBAAC,IAAD,CAAUiF,KAAMzC,MAG3C,OAAO,gBAAC,IAAD,CAAKxC,UAAU,yBAAyBsE,MAAOA,GAClD,yBAAIrE,GACJ,uBAAKD,UAAU,0BAA0B4E,OA1CrD,uMAKQ,OAAO,qBAAMtF,KAAN,UALf,GAA2BoB,KCAdwE,EAAb,2MACYC,UADZ,IAMYC,kBAAoB,oBAAA3D,EAAAC,OAAA,mDACnB,EAAKyD,KADc,mEAAA1D,EAAA,MAElB,EAAK0D,KAAKE,YAAY,WAFJ,sCANhC,EAWYC,kBAAoB,SAAOrF,EAAcsF,GAArB,iBAAA9D,EAAAC,OAAA,uDAClBgB,EAAY,EAAKlD,WAAjBkD,QACFrB,EAAKqB,GAAWA,EAAQrB,GAFJ,WAAAI,EAAA,MAGlB,EAAKjC,WAAWuC,SAASV,EAAIkE,EAAQJ,KAAKK,OAHxB,OAIxB,EAAKrG,YAJmB,sCAXhC,EAkBYsG,gBAAkB,SAACC,GACvB,OAAOC,YAAGD,GAAO,SAACE,GAAY,IACpB5B,EAAY4B,EAAZ5B,QACN,OAAO,gCAAGA,OArBtB,EAyBY6B,SAAqB,CACzB1D,MAAO,CACHyC,MAAO,CAAEkB,OAAQ,OAAQrC,MAAO,gBAEhCsC,YAAa,CACTD,OAAQ,WAAYrC,MAAO,2BAAQuC,YAAa,uCAAUC,KAAM,GAGpEhG,KAAM,CACF6F,OAAQ,WAAYrC,MAAO,eAAMuC,YAAa,6CAAWC,KAAM,GAGnEC,SAAU,CACNJ,OAAQ,KAAMrC,MAAO,2BAAQ0C,OAAQ,EAAK3G,WAAW4G,aAAcC,QAAS,EAAKZ,iBAGrFa,OAAQ,CAAER,OAAQ,SAAUrC,MAAO,kBAzC/C,EA6CY8C,OAAiB,CACrB,CAAEtG,KAAM,QAASuG,KAAM,SAAUC,UAAU,GAC3C,CAAExG,KAAM,cAAeuG,KAAM,SAAUC,UAAU,GACjD,CAAExG,KAAM,OAAQuG,KAAM,SAAUC,UAAU,GAC1C,CAAExG,KAAM,WAAYuG,KAAM,KAAMC,UAAU,IAjDlD,EAwDYnH,KAAOC,aAAS,WAAO,IACrBmD,EAAY,EAAKlD,WAAjBkD,QACN,OAAO,gBAAC,IAAD,CAAMvC,OAAO,2BAAOC,gBAAiBhC,EAAOS,aAC/C,uBAAKmB,UAAU,QACX,gBAAC,IAAD,CAAM0G,IAAK,SAAArE,GAAC,OAAI,EAAK8C,KAAO9C,GAAGrC,UAAU,OACrC2G,SAAUjE,EACV6D,OAAQ,EAAKA,OACbV,SAAU,EAAKA,SACfe,cAAe,EAAKtB,kBACpBuB,cAAc,KAGtB,uBAAK7G,UAAU,SACX,uBAAKA,UAAU,eAAe8G,MAAO,CAAEC,UAAW,WAC9C,0BAAQP,KAAK,SAASxG,UAAU,uBAC5BD,QAAS,EAAKqF,mBADlB,sBAtEpB,wIAGQpH,KAAKmG,SAASnG,KAAKsB,MAH3B,gFAqDQ,OAAO,qBAAMA,KAAN,UArDf,GAA+BoB,KCElBsG,EAAb,kNAQY1H,KAAOC,aAAS,WAAO,IAAD,EACqD,EAAKC,WAA9EkD,EADoB,EACpBA,QAASuE,EADW,EACXA,SAAUC,EADC,EACDA,YAAaC,EADZ,EACYA,oBAAqBC,EADjC,EACiCA,UAAWC,EAD5C,EAC4CA,KAChEzC,EAAiElC,EAAjEkC,MAAO3E,EAA0DyC,EAA1DzC,KAAM+B,EAAoDU,EAApDV,OAAQkE,EAA4CxD,EAA5CwD,SAAUH,EAAkCrD,EAAlCqD,YAAsBvD,GAAYE,EAArBC,QAAqBD,EAAZF,SACvDyC,EAAO,4BAAM,gBAAC,IAAD,CAAUA,KAAMzC,KAC7BqC,EAAOC,IAAKC,IAAI/C,EAAQ,EAAKxC,WAAWE,KAAK2B,IAC7CiG,EAAY,uBAAKtH,UAAU,qBAC3B,0BAAQ8G,MAAO,CAAES,WAAY,IAAKC,QAAQ,QAAQC,aAAa,GAAI1H,QAAS,kBAAMoH,KAAuBnH,UAAU,8BAAnH,4BACA,uBAAKA,UAAU,OAAOD,QAASkH,GAC3B,qBAAGjH,UAAU,8BAA8B8G,MAAO,CAAEY,SAAU,OAAQ1E,MAAO,eAGjFsB,EAAQO,GAAQ,0BAAQ7E,UAAU,gDAAgDD,QAAS,kBAAM,EAAK4H,UAAUzC,KAAY,gBAAC,IAAD,CAAIjF,KAAK,qBAIzI,OAAO,gBAAC,IAAD,CAAME,OAAQF,EAAMG,gBAAiBhC,EAAOS,YAAayF,MAAOA,GACnE,uBAAKtE,UAAU,OACX,uBAAKA,UAAU,wBAAf,kBACA,uBAAKA,UAAU,8BAA8B4E,GAC7C,gBAAC,IAAD,CAAK5E,UAAU,gCAAgCsE,MAAOW,GAClD,gBAAC,IAAD,CAAU5D,GAAIW,EAAQa,OARf,SAACnD,GAChB,OAAO,4BAAOmF,EAAO,WAAQnF,EAAKsF,MAAQtF,EAAKO,UAS3C,uBAAKD,UAAU,wBAAf,8BACA,gBAAC,IAAD,CAAKA,UAAU,yBACX,uBAAKA,UAAU,QAAQ+F,IAE3B,uBAAK/F,UAAU,wBAAf,kBACA,uBAAKA,UAAU,qCAAqCC,GACpD,uBAAKD,UAAU,wBAAf,8BACA,uBAAKA,UAAU,8BACV2F,YAAGO,GAAU,SAACN,GAAD,OAAY,gCAAGA,EAAO5B,gBAAa9C,GAAW,kBAAM,yBAAOlB,UAAU,cAAjB,iBAG1E,gBAAC,IAAD,CAAKA,UAAU,UAAUsE,MAAOgD,GAC5B,uBAAKtH,UAAU,eAAe8G,MAAO,CAAE9D,MAAO,WAAajD,QAAS,kBAAMqH,MAA1E,2BAA2F,qBAAGpH,UAAU,oCAGxGqH,EACKH,EAAYU,OAAS,EAAI,gBAAC,IAAD,CAAMzF,MAAO+E,EAAa9F,KAAM,CAAEyB,OAAQ,EAAK0B,cAAmB,wBAAMvE,UAAU,QAAhB,oCAC1F,qCA/CtB,EAoDYwE,UAAY,SAACpD,GACjBxB,QAAQC,IAAIuB,EAAM,QAClB,EAAK5B,WAAWqI,iBAAiBzG,IAtDzC,EAyDYmD,WAAa,SAACnD,EAAWsD,GAC7B,OAAO,gBAAC,EAAKC,QAAYvD,IA1DjC,EA6DYuD,QAAUpF,aAAS,SAAC6B,GAAe,IACjC0G,EAAkB1G,EAAlB0G,KAAMnE,EAAYvC,EAAZuC,QACZ,OAAO,uBAAK3D,UAAU,+BAA+B8G,MAAO,CAAEiB,aAAc,uBACxE,uBAAK/H,UAAU,SAASD,QAAS,kBAAM,EAAKyE,UAAUpD,KAClD,uBAAKpB,UAAU,cAAf,qBAAgC8H,GAChC,uBAAK9H,UAAU,gBAAgB8G,MAAO,CAAEkB,OAAQ,SAAhD,qBAA8DrE,IAElE,uBAAK3D,UAAU,8BACX,qBAAGA,UAAU,wBAAwB8G,MAAO,CAAEY,SAAU,OAAQ1E,MAAO,WAAajD,QAAS,kBAAM,EAAKP,WAAWyI,SAAS7G,EAAKC,YArEjJ,wIAGQrD,KAAKmG,SAASnG,KAAKsB,MAH3B,sDAA+BoB,KCHlBwH,EAAb,kNAUY5I,KAAOC,aAAS,WAAO,IAAD,EACgB,EAAKC,WAAzC2I,EADoB,EACpBA,aAAcC,EADM,EACNA,kBAEhB9D,EAAQ,gBAAC,IAAD,CAAWtE,UAAU,iBAC7BE,KAAK,KACLmI,SAAU,SAAC7G,GAAD,OAAiB4G,EAAkB5G,IAC7CwE,YAAY,iBAEhB,OAAO,gBAAC,IAAD,CAAM7F,OAAO,2BAAOmI,KAAK,QAAQhE,MAAOA,EAAOiE,eAAgB,EAAKA,gBACvE,gBAAC,IAAD,CAAMpG,MAAOgG,EAAc/G,KAAM,CAAEyB,OAAQ,EAAK0B,WAAYxE,QAAS,EAAKyE,iBAnBtF,EAuBY+D,eAAiB,oBAAA9G,EAAAC,OAAA,kEAAAD,EAAA,MACf,EAAKjC,WAAW2I,aAAaK,QADd,sCAvB7B,EA2BYhE,UAAY,SAACpD,GACjB,EAAK5B,WAAWiJ,iBAAiBrH,EAAKC,KA5B9C,EA+BYkD,WAAa,SAACnD,EAAWsD,GAC7B,OAAO,gBAAC,EAAKC,QAAYvD,IAhCjC,EAmCYuD,QAAUpF,aAAS,SAAC6B,GAAe,IACjC4C,EAAoB5C,EAApB4C,QAAShC,EAAWZ,EAAXY,OACX6C,EAAOC,IAAKC,IAAI/C,EAAQ,EAAKxC,WAAWE,KAAK2B,IAI7CiD,EAAQ,uBAAKtE,UAAU,gCACvB,2BAAK,gBAAC,IAAD,CAAUqB,GAAIW,EAAQa,OAJZ,SAACnD,GAChB,OAAO,4BAAOmF,EAAO,GAAKnF,EAAKsF,MAAQtF,EAAKO,WAKhD,OAAO,gBAAC,IAAD,CAAKD,UAAU,uCAAuCsE,MAAOA,GAChE,yBAAIN,OA7ChB,wIAGQhG,KAAKmG,SAASnG,KAAKsB,MAH3B,gFAOQ,OAAO,qBAAMA,KAAN,UAPf,GAAmCoB,KCG7BgI,G,4PAEMC,KAAO,CACX,CAAEC,MAAO,EAAGC,MAAO,eAAM5I,KAAM,IAAK6I,SAAS,GAC7C,CAAEF,MAAO,EAAGC,MAAO,eAAM5I,KAAM,IAAK6I,SAAS,I,EAGzCC,SAAW,SAACC,GAChB,IAAIC,EAAMD,EAAIE,cAAcN,MAC5B,EAAKO,YAAsB,MAARF,EACnB,EAAKG,SAASH,I,EAGlBpG,OAAS,WACL,OAAO,uBAAK7C,UAAU,eAAe8G,MAAO,CAAEkB,OAAQ,SACjD,EAAKW,KAAK5E,KAAI,SAAC1B,EAAGqC,GAAW,IACpBkE,EAAuBvG,EAAvBuG,MAAO3I,EAAgBoC,EAAhBpC,KAAM4I,EAAUxG,EAAVwG,MACnB,OAAO,yBAAOrH,IAAKkD,EAAO1E,UAAU,aAChC,yBAAOwG,KAAK,QAAQoC,MAAOA,EACvB3I,KAAMA,EAAMoJ,eAAgBT,IAAU,EAAKA,MAC3CG,SAAU,EAAKA,WAHhB,IAG8BF,EAH9B,e,6BAjBAS,K,yCAClB3I,K,yEAAyB,K,GAyBjB4I,EAAb,2MACYpE,UADZ,IAMYC,kBAAoB,oBAAA3D,EAAAC,OAAA,mDACnB,EAAKyD,KADc,mEAAA1D,EAAA,MAElB,EAAK0D,KAAKE,YAAY,WAFJ,sCANhC,EAWYC,kBAAoB,SAAOrF,EAAcsF,GAArB,iBAAA9D,EAAAC,OAAA,uDAClB8H,EAAkB,EAAKhK,WAAvBgK,cACFnI,EAAKmI,GAAiBA,EAAcnI,GAFhB,WAAAI,EAAA,MAGlB,EAAKjC,WAAWiK,eAAepI,EAAIkE,EAAQJ,KAAKK,OAH9B,yBAAA/D,EAAA,MAIlB,EAAKjC,WAAWkK,YAJE,OAKxB,EAAKvK,YALmB,sCAXhC,EAmBY0G,SAAqB,CACzB1D,MAAO,CACHwB,QAAS,CACLmC,OAAQ,WAAYrC,MAAO,eAAMuC,YAAa,iCAASC,KAAM,IAEjE6B,KAAM,CACFhC,OAAQ,SAAUrC,MAAO,eAAMuC,YAAa,kCAEhD2D,WAAY,CACR7D,OAAQ,SACRrC,MAAO,qBACPmG,YAAalB,EACbmB,aAAc,KAElBvD,OAAQ,CAAER,OAAQ,SAAUrC,MAAO,kBAjC/C,EAqCY8C,OAAiB,CACrB,CAAEtG,KAAM,UAAWuG,KAAM,SAAUC,UAAU,GAC7C,CAAExG,KAAM,OAAQuG,KAAM,SAAUC,UAAU,GAC1C,CAAExG,KAAM,aAAcuG,KAAM,SAAUC,UAAU,IAxCxD,EA+CYnH,KAAOC,aAAS,WAAO,IACrBiK,EAAkB,EAAKhK,WAAvBgK,cAEN,OADA5J,QAAQC,IAAI2J,EAAc,iBACnB,gBAAC,IAAD,CAAMrJ,OAAO,iCAAQC,gBAAiBhC,EAAOS,aAChD,uBAAKmB,UAAU,QACX,gBAAC,IAAD,CAAM0G,IAAK,SAAArE,GAAC,OAAI,EAAK8C,KAAO9C,GAAGrC,UAAU,OACrC2G,SAAU6C,EACVjD,OAAQ,EAAKA,OACbV,SAAU,EAAKA,SACfe,cAAe,EAAKtB,kBACpBuB,cAAc,KAGtB,uBAAK7G,UAAU,SACX,uBAAKA,UAAU,eAAe8G,MAAO,CAAEC,UAAW,WAC9C,0BAAQP,KAAK,SAASxG,UAAU,uBAC5BD,QAAS,EAAKqF,mBADlB,sBA9DpB,wIAGQpH,KAAKmG,SAASnG,KAAKsB,MAH3B,gFA4CQ,OAAO,qBAAMA,KAAN,UA5Cf,GAAkCoB,KC5BrBoJ,EAAb,kNAUYxK,KAAOC,aAAS,WAAO,IAAD,EACc,EAAKC,WAAvCuK,EADoB,EACpBA,aAAcC,EADM,EACNA,gBAChB1F,EAAQ,gBAAC,IAAD,CAAWtE,UAAU,iBAC7BE,KAAK,KACLmI,SAAU,SAAC7G,GAAD,OAAiBwI,EAAgBxI,IAC3CwE,YAAY,iBAEhB,OAAO,gBAAC,IAAD,CAAM7F,OAAO,2BAAOC,gBAAiBhC,EAAOS,YAAayJ,KAAK,QAAQhE,MAAOA,EAAOiE,eAAgB,EAAKA,gBAC5G,gBAAC,IAAD,CAAMpG,MAAO4H,EAAc3I,KAAM,CAAEyB,OAAQ,EAAK0B,WAAYxE,QAAS,EAAKyE,iBAlBtF,EAsBY+D,eAAiB,oBAAA9G,EAAAC,OAAA,kEAAAD,EAAA,MACf,EAAKjC,WAAWuK,aAAavB,QADd,sCAtB7B,EA0BYhE,UAAY,SAACpD,GACjB,EAAK5B,WAAWyK,eAAe7I,EAAKC,KA3B5C,EA8BYkD,WAAa,SAACnD,EAAWsD,GAC7B,OAAO,gBAAC,EAAKC,QAAYvD,IA/BjC,EAkCYuD,QAAUpF,aAAS,SAAC6B,GAAe,IACjCY,EAAoBZ,EAApBY,OAAQ2B,EAAYvC,EAAZuC,QACVkB,EAAOC,IAAKC,IAAI/C,EAAQ,EAAKxC,WAAWE,KAAK2B,IAI7CiD,EAAQ,uBAAKtE,UAAU,gCACvB,2BAAK,gBAAC,IAAD,CAAUqB,GAAIW,EAAQa,OAJZ,SAACnD,GAChB,OAAO,4BAAOmF,EAAO,GAAKnF,EAAKsF,MAAQtF,EAAKO,WAKhD,OAAO,gBAAC,IAAD,CAAKD,UAAU,uCAAuCsE,MAAOA,GAChE,yBAAIX,OA5ChB,wIAGQ3F,KAAKmG,SAASnG,KAAKsB,MAH3B,gFAOQ,OAAO,qBAAMA,KAAN,UAPf,GAAiCoB,KCQ3BwJ,E,YAEF,WAAYrJ,GAAqB,IAAD,8BAC5B,+CAFIsJ,qBACwB,EAE5B,EAAKpJ,UAAY,EAAKC,SAAW,EACjC,EAAKmJ,gBAAkBtJ,EAHK,E,kEAKXR,EAAYY,EAAgBD,G,oFAC3BE,IAAdD,IAAyBA,EAAY,G,mBACzBjD,KAAKmM,gBAAgB7K,KAAKe,EAAOY,EAAWD,I,cAAxDG,E,yBACGA,G,oFAEYC,GACnBpD,KAAKiD,eAAqBC,IAATE,EAAqB,EAAIA,EAAKC,O,GAb3BC,KAkBtB8I,G,YAEF,WAAYvJ,GAAqB,IAAD,8BAC5B,+CAFIwJ,uBACwB,EAE5B,EAAKtJ,UAAY,EAAKC,SAAW,EACjC,EAAKqJ,kBAAoBxJ,EAHG,E,kEAKXR,EAAYY,EAAgBD,G,oFAC3BE,IAAdD,IAAyBA,EAAY,G,mBACzBjD,KAAKqM,kBAAkB/K,KAAKe,EAAOY,EAAWD,I,cAA1DG,E,yBACGA,G,oFAEYC,GACnBpD,KAAKiD,eAAqBC,IAATE,EAAqB,EAAIA,EAAKC,O,GAb5BC,KAkBrBgJ,G,YAEF,WAAYzJ,GAAqB,IAAD,8BAC5B,+CAFI0J,yBACwB,EAE5B,EAAKxJ,UAAY,EAAKC,SAAW,GACjC,EAAKuJ,oBAAsB1J,EAHC,E,kEAKXR,EAAYY,EAAgBD,G,oFAC3BE,IAAdD,IAAyBA,EAAY,G,mBACzBjD,KAAKuM,oBAAoBjL,KAAKe,EAAOY,EAAWD,I,cAA5DG,E,yBACGA,G,oFAEYC,GACnBpD,KAAKiD,eAAqBC,IAATE,EAAqB,EAAIA,EAAKC,O,GAb5BC,KAiBdkJ,IAAb,0jBAcIC,cAAgB,SAAOjJ,EAAaQ,GAApB,SAAAP,EAAAC,OAAA,gDACZ,EAAK2C,cAAgB,IAAI6F,EAAc,EAAKvI,IAAIC,WAAWsI,eAC3D,EAAK7F,cAAcvC,MAAM,CAAEN,IAAKA,EAAKQ,OAAQA,IAFjC,sCAdpB,EAoBIoG,kBAAoB,SAAO5G,GAAP,SAAAC,EAAAC,OAAA,gDAChB,EAAKyG,aAAe,IAAImC,GAAa,EAAK3I,IAAIC,WAAW8I,gBACzD,EAAKvC,aAAarG,MAAM,CAAEN,IAAKA,IAFf,sCApBxB,EA0BIwI,gBAAkB,SAAOxI,GAAP,SAAAC,EAAAC,OAAA,gDACd,EAAKqI,aAAe,IAAIK,GAAa,EAAKzI,IAAIC,WAAWwI,cACzD,EAAKL,aAAajI,MAAM,CAAEN,IAAKA,IAFjB,sCA1BtB,EAgCIO,SAAW,SAAOV,EAAYhB,GAAnB,iBAAAoB,EAAAC,OAAA,uDACPrB,EAAM2B,OAAS,EAAKtC,KAAK2B,GADlB,WAAAI,EAAA,MAES,EAAKE,IAAIC,WAAW+I,QAAQzI,KAAKb,EAAIhB,IAF9C,OAEHc,EAFG,OAGHE,QAEaH,KADTE,EAAO,EAAKe,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEhB,KAAOA,QAErCiB,IAAEC,MAAMnB,EAAMf,GACde,EAAKoB,QAAU,IAAIC,MAEvB,EAAKC,QAAUtB,EACf,EAAKjC,cAGLkB,EAAMgB,GAAKF,EAAIE,GACfhB,EAAMsC,QAAU,IAAIF,KACpBpC,EAAMmC,QAAU,IAAIC,KACpB,EAAKN,MAAMS,QAAQvC,GACnB,EAAKqC,QAAUrC,GAEnB,EAAKoK,cAAc,GAAI,GAnBhB,sCAhCf,EAuDIhB,eAAiB,SAAOpI,EAAYhB,GAAnB,iBAAAoB,EAAAC,OAAA,uDACbrB,EAAM2B,OAAS,EAAKtC,KAAK2B,GADZ,WAAAI,EAAA,MAEG,EAAKE,IAAIC,WAAWgJ,OAAO1I,KAAKb,EAAIhB,IAFvC,OAETc,EAFS,OAGTE,QAEaH,KADTE,EAAO,EAAK8F,YAAY9E,MAAK,SAAAC,GAAC,OAAIA,EAAEhB,KAAOA,QAE3CiB,IAAEC,MAAMnB,EAAMf,GACde,EAAKoB,QAAU,IAAIC,MAEvB,EAAK+G,cAAgBpI,IAGrBf,EAAMgB,GAAKF,EAAIE,GACfhB,EAAMsC,QAAU,IAAIF,KACpBpC,EAAMmC,QAAU,IAAIC,KACpB,EAAKyE,YAAYtE,QAAQvC,GACzB,EAAKmJ,cAAgBnJ,GAEzB,EAAK2J,gBAAgB,IAlBR,sCAvDrB,EA4EInH,OAAStD,aAAS,WACd,OAAO,EAAKuD,WAAWI,MA7E/B,EAiFIkB,MAAQ,WACJ,EAAK1B,aAAUxB,EACf,EAAKyG,UAAUzC,IAnFvB,EAuFI+B,SAAW,WACP,EAAKuC,mBAAgBtI,EACrB,EAAKyG,UAAU4B,IAzFvB,EA6FId,iBAAmB,SAACpH,GAChB,EAAKlC,YACL,EAAK0L,WAAW,EAAKlJ,IAAIC,WAAWkJ,SAASpF,MAAMrE,KA/F3D,EAmGI+E,aAAe,SAAOb,EAAkBtF,EAAc2I,GAAvC,SAAAnH,EAAAC,OAAA,uDACX,EAAK0G,kBAAkB,IADZ,WAAA3G,EAAA,MAEE,EAAKsJ,MAAM7C,IAFb,8EAnGnB,EAwGIrE,SAAW,oBAAApC,EAAAC,OAAA,uDACP,EAAK+I,cAAc,GAAI,GADhB,WAAAhJ,EAAA,MAEY,EAAKE,IAAIC,WAAW+I,QAAQK,OAAO,GAAI,EAAG,MAFtD,OAEP,EAAK7I,MAFE,6CAxGf,EA8GIgF,oBAAsB,oBAAA1F,EAAAC,OAAA,gDAClB,EAAKsI,gBAAgB,IACrB,EAAKrC,UAAUmC,GAFG,sCA9G1B,EAmHI1C,UAAY,WACL,EAAKC,KACJ,EAAKA,MAAO,EAEZ,EAAKA,MAAO,GAvHxB,EA4HIY,SAAW,SAAO5G,GAAP,eAAAI,EAAAC,OAAA,kEAAAD,EAAA,MACD,EAAKE,IAAIC,WAAWqJ,cAAcC,IAAI,CAAEC,QAAS,EAAKzI,QAAQrB,GAAI+J,KAAM,CAAC,CAAEC,OAAQhK,OADlF,yBAAAI,EAAA,MAEY,EAAKE,IAAIC,WAAW0J,oBAAoBC,MAAM,CAAEC,MAAO,EAAK9I,QAAQrB,MAFhF,OAEHoK,EAFG,OAGP,EAAKvE,YAAcuE,EAAOtK,IAHnB,sCA5Hf,EAoII8I,eAAiB,SAAO5I,GAAP,eAAAI,EAAAC,OAAA,kEAAAD,EAAA,MACP,EAAKE,IAAIC,WAAWqJ,cAAcS,IAAI,CAAEP,QAAS,EAAKzI,QAAQrB,GAAI+J,KAAM,CAAC,CAAEC,OAAQhK,EAAIyG,KAAM,OADtF,yBAAArG,EAAA,MAEM,EAAKE,IAAIC,WAAW0J,oBAAoBC,MAAM,CAAEC,MAAO,EAAK9I,QAAQrB,MAF1E,OAEToK,EAFS,OAGb,EAAKvE,YAAcuE,EAAOtK,IAC1B,EAAKhC,YAJQ,sCApIrB,EA4IIsF,WAAa,SAAOpD,GAAP,eAAAI,EAAAC,OAAA,kEAAAD,EAAA,MACY,EAAKE,IAAIC,WAAW+I,QAAQgB,KAAKtK,IAD7C,cACT,EAAKqB,QADI,kBAAAjB,EAAA,MAEU,EAAKE,IAAIC,WAAW0J,oBAAoBC,MAAM,CAAEC,MAAOnK,KAFjE,OAELoK,EAFK,OAGT,EAAKvE,YAAcuE,EAAOtK,IAC1B,EAAKwG,UAAUX,GAJN,sCA5IjB,EAoJIa,iBAAmB,SAAO+D,GAAP,SAAAnK,EAAAC,OAAA,gDACf,EAAK8H,cAAgBoC,EACrB,EAAKjE,UAAU4B,GAFA,sCApJvB,EA0JIG,SAAW,oBAAAjI,EAAAC,OAAA,kEAAAD,EAAA,MACD,EAAKE,IAAIC,WAAWqJ,cAAcS,IAAI,CAAEP,QAAS,EAAKzI,QAAQrB,GAAI+J,KAAM,CAAC,CAAEC,OAAQ,EAAK7B,cAAcnI,GAAIyG,KAAM,EAAK0B,cAAc1B,UADlI,sCA1Jf,EA+JI/E,IAAM,WACF,OAAO,gBAAC,EAAKF,OAAN,OAhKf,6EAUkCxC,GAVlC,uGAA2BtC,GAA3B,0CACK4C,KADL,wGAEKA,KAFL,yGAGKA,KAHL,iGAIKA,KAJL,uGAKKA,KALL,yGAMKA,KANL,mGAOKA,KAPL,gGAQKA,KARL,yEAQgC,KARhC,G,oBC5DauC,GAAb,kNASI2I,MAAQ,WAEA,EAAKrM,WAAWsM,KAChB,EAAKtM,WAAWsM,KAAM,EACtB,EAAKtM,WAAWqE,aAGhB,EAAKrE,WAAWsM,KAAM,EACtB,EAAKtM,WAAWqE,aAjB5B,EAqBYvE,KAAOC,aAAS,WAAO,IAAD,EACiB,EAAKC,WAA1CuM,EADoB,EACpBA,UAAW3H,EADS,EACTA,MAAO4H,EADE,EACFA,eACpB1H,EAAQ,gCACR,gBAAC,IAAD,CAAWtE,UAAU,aACjBE,KAAK,KACLmI,SAAU,SAAC7G,GAAD,OAAiBwK,EAAexK,EAAK,KAC/CwE,YAAY,iEAChB,0BACIhG,UAAU,qDACVD,QAASqE,GACT,gBAAC,IAAD,CAAInE,KAAK,WAEjB,OAAO,gBAAC,IAAD,CAAME,OAAO,eAAKC,gBAAiBhC,EAAOS,YAAayF,MAAOA,EAAOiE,eAAgB,EAAKA,gBAC7F,uBAAKvI,UAAU,2CACX,uBAAKA,UAAU,gCAAgCD,QAAS,SAACkM,GAAD,OAAO,EAAKJ,UAChE,0BAAQ7L,UAAWkM,KAAW,qBAA9B,gBACA,uBAAKlM,UAAU,OACX8G,MAAO,CAAEqF,MAAO,OAAQnE,OAAQ,OAAQoE,gBAAiB,qBAAsBC,aAAc,SAEzF,EAAK7M,WAAWsM,IACZ,uBACIhF,MAAO,CAAEwF,OAAQ,oBAAqBH,MAAO,OAAQnE,OAAQ,OAAQoE,gBAAiB,UAAWC,aAAc,UAGnH,uBACIvF,MAAO,CAAEwF,OAAQ,oBAAqBC,WAAY,OAAQJ,MAAO,OAAQnE,OAAQ,OAAQoE,gBAAiB,UAAWC,aAAc,WAInJ,0BAAQrM,UAAWkM,KAAW,UAA9B,kBAGR,gBAAC,IAAD,CAAM/J,MAAO4J,EAAW3K,KAAM,CAAEyB,OAAQ,EAAK0B,WAAYxE,QAAS,EAAKyE,iBArDnF,EAyDY+D,eAAiB,oBAAA9G,EAAAC,OAAA,kEAAAD,EAAA,MACf,EAAKjC,WAAWuM,UAAUvD,QADX,sCAzD7B,EA6DYhE,UAAY,SAACpD,GACjB,EAAK5B,WAAWiF,WAAWrD,EAAKC,KA9DxC,EAiEYkD,WAAa,SAACnD,EAAWsD,GAC7B,OAAO,gBAAC,EAAKC,QAAYvD,IAlEjC,EAqEYuD,QAAUpF,aAAS,SAAC6B,GAAe,IACjCoL,EAA0DpL,EAA1DoL,MAAOxI,EAAmD5C,EAAnD4C,QAAS+B,EAA0C3E,EAA1C2E,YAAa/D,EAA6BZ,EAA7BY,OAAiBQ,GAAYpB,EAArBuB,QAAqBvB,EAAZoB,SAChDqC,EAAOC,IAAKC,IAAI/C,EAAQ,EAAKxC,WAAWE,KAAK2B,IAI7CiD,EAAQ,uBAAKtE,UAAU,qCACvB,uBAAKA,UAAU,cAAa,gBAAC,IAAD,CAAUqB,GAAIW,EAAQa,OAJnC,SAACnD,GAChB,OAAO,4BAAOmF,EAAO,GAAKnF,EAAKsF,MAAQtF,EAAKO,UAI5C,uBAAKD,UAAU,SAAQ,gBAAC,IAAD,CAAUiF,KAAMzC,MAEvCiK,EAAU9G,YAAG6G,GAAO,SAAC5G,GACrB,OAAO,uBAAK5F,UAAU,+BAA8B,uBAAKA,UAAU,YAAY0M,IAAK9G,EAAO+G,eAC5FzL,GACC,kBAAM,uBAAKlB,UAAU,+BAA8B,gBAAC,IAAD,CAAIA,UAAU,2BAA2BC,KAAK,SAASC,KAAK,WACnH,OAAO,gBAAC,IAAD,CAAKF,UAAU,oBAAoBF,KAAM2M,EAASnI,MAAOA,GAC5D,yBAAIN,GACJ,uBAAKhE,UAAU,0BAA0B+F,OArFrD,uMAMQ,OAAO,qBAAMzG,KAAN,UANf,GAA2BoB,KCLpB,IAAMkM,GAAkB,SAAChH,EAAYiH,GAAb,OAAwB,4CAAYC,KAAKC,UAAUnH,KC2GlF,I,4DAAMoH,GAAKzN,aAAS,YAAuC,IAArC0N,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,GAAIL,EAAqB,EAArBA,EAAGM,EAAkB,EAAlBA,OACpC,QAAkBjM,IAAd+L,EACA,YAAe/L,IAAXiM,EAA6B,+CAC1BA,IAEX,GAAkB,OAAdF,EACA,YAAe/L,IAAXiM,EAA6B,0CAC1BA,IAEX,IAAIC,SAAaH,EACjB,OAAQG,GACJ,QACI,QAAWlM,IAAPgM,EACA,OAAO,gCAAGE,EAAH,IAASH,GAEhB,IAAI9L,EAAM+L,EAAGD,EAAWJ,GACxB,YAAY3L,IAARC,EAA0BA,EACvB,gCAAG8L,GAElB,IAAK,SACD,IAAII,EApDhB,SAAsBC,EAAkBJ,EAAcL,GAClD,IAAIU,EACA7H,EAAmB4H,EACvB,cAAcA,GACV,IAAK,YAAaC,EAAa,mDAAsB,MACrD,IAAK,SAAUA,EAAa,sCAAMD,GAAQ,MAC1C,QACI,GAA4B,oBAAjB5H,EAAM7C,OAAuB,CACpC,QAAW3B,IAAPgM,EAIA,OAAOA,EAAGI,EAAIT,GAHdU,EAAaX,GAAgBU,EAAIT,IAQjD,YAAmB3L,IAAfqM,EACO,uBAAKvN,UAAU,eAAeuN,GAElC7H,EAAM7C,OAAOqK,EAAIL,GAgCHW,CAAaP,EAAWC,EAAIL,GACzC,YAAe3L,IAAXmM,EAA6BA,OACfnM,IAAXiM,EAAsB,2CAAcA,IAC/C,IAAK,SACD,OAAO,wCAAQF,OAIdtH,GAAK,SAACsH,EAAwBC,EAAeL,EAAQM,GAC9D,OAAO,gBAACH,GAAD,CAAIC,UAAWA,EAAWC,GAAIA,EAAIL,EAAGA,EAAGM,OAAQA,KClI9CM,GAAb,2MACYtI,UADZ,IAMYC,kBAAoB,oBAAA3D,EAAAC,OAAA,mDACnB,EAAKyD,KADc,mEAAA1D,EAAA,MAElB,EAAK0D,KAAKE,YAAY,WAFJ,sCANhC,EAWYC,kBAAoB,SAAOrF,EAAcsF,GAArB,iBAAA9D,EAAAC,OAAA,uDAClBgB,EAAY,EAAKlD,WAAjBkD,QACFrB,EAAKqB,GAAWA,EAAQrB,GAFJ,WAAAI,EAAA,MAGlB,EAAKjC,WAAWuC,SAASV,EAAIkE,EAAQJ,KAAKK,OAHxB,OAIxB,EAAKrG,YAJmB,sCAXhC,EAkBYuO,aAAe,SAAChI,GACpB,OAAOC,GAAGD,GAAO,SAACE,GAAY,IACpB5B,EAAY4B,EAAZ5B,QACN,OAAO,gCAAGA,OArBtB,EAyBYyB,gBAAkB,SAACC,GACvB,OAAOC,GAAGD,GAAO,SAACE,GAAY,IACpB5B,EAAY4B,EAAZ5B,QACN,OAAO,gCAAGA,OA5BtB,EAgCY6B,SAAqB,CACzB1D,MAAO,CACH6B,QAAS,CAAE8B,OAAQ,OAAQrC,MAAO,gBAElCsC,YAAa,CACTD,OAAQ,WAAYrC,MAAO,2BAAQuC,YAAa,uCAAUC,KAAM,GAGpEtC,QAAS,CACLmC,OAAQ,WAAYrC,MAAO,eAAMuC,YAAa,6CAAWC,KAAM,GAGnEuG,MAAO,CACH1G,OAAQ,KAAMrC,MAAO,2BAAQ0C,OAAQ,EAAK3G,WAAWmO,UAAWtH,QAAS,EAAKqH,cAGlFxH,SAAU,CACNJ,OAAQ,KAAMrC,MAAO,2BAAQ0C,OAAQ,EAAK3G,WAAW4G,aAAcC,QAAS,EAAKZ,iBAErFa,OAAQ,CAAER,OAAQ,SAAUrC,MAAO,kBAnD/C,EAuDY8C,OAAiB,CACrB,CAAEtG,KAAM,UAAWuG,KAAM,SAAUC,UAAU,GAC7C,CAAExG,KAAM,cAAeuG,KAAM,SAAUC,UAAU,GACjD,CAAExG,KAAM,UAAWuG,KAAM,SAAUC,UAAU,GAC7C,CAAExG,KAAM,QAASuG,KAAM,KAAMC,UAAU,GACvC,CAAExG,KAAM,WAAYuG,KAAM,KAAMC,UAAU,IA5DlD,EAmEYnH,KAAOC,aAAS,WAAO,IACrBmD,EAAY,EAAKlD,WAAjBkD,QACN,OAAO,gBAAC,IAAD,CAAMvC,OAAO,2BAAOC,gBAAiBhC,EAAOS,aAC/C,uBAAKmB,UAAU,QACX,gBAAC,IAAD,CAAM0G,IAAK,SAAArE,GAAC,OAAI,EAAK8C,KAAO9C,GAAGrC,UAAU,OACrC2G,SAAUjE,EACV6D,OAAQ,EAAKA,OACbV,SAAU,EAAKA,SACfe,cAAe,EAAKtB,kBACpBuB,cAAc,KAGtB,uBAAK7G,UAAU,SACX,uBAAKA,UAAU,eAAe8G,MAAO,CAAEC,UAAW,WAC9C,0BAAQP,KAAK,SAASxG,UAAU,uBAC5BD,QAAS,EAAKqF,mBADlB,sBAjFpB,wIAGQpH,KAAKmG,SAASnG,KAAKsB,MAH3B,gFAgEQ,OAAO,qBAAMA,KAAN,UAhEf,GAA2BoB,KCDdkN,GAAb,2MAKYtO,KAAOC,aAAS,WAAO,IAAD,EACO,EAAKC,WAAhCkD,EADoB,EACpBA,QAASmL,EADW,EACXA,cACT7J,EAA6EtB,EAA7EsB,QAASL,EAAoEjB,EAApEiB,QAAS3B,EAA2DU,EAA3DV,OAAQwK,EAAmD9J,EAAnD8J,MAAOtG,EAA4CxD,EAA5CwD,SAAUH,EAAkCrD,EAAlCqD,YAAsBvD,GAAYE,EAArBC,QAAqBD,EAAZF,SACnEyC,EAAO,4BAAM,gBAAC,IAAD,CAAUA,KAAMzC,KAC7BqC,EAAOC,IAAKC,IAAI/C,EAAQ,EAAKxC,WAAWE,KAAK2B,IAC7CiD,EAAQO,GAAQ,0BAAQ7E,UAAU,gDAAgDD,QAAS,kBAAM,EAAK4H,UAAU8F,MAAQ,gBAAC,IAAD,CAAIxN,KAAK,qBAIjIwM,EAAU9G,YAAG6G,GAAO,SAAC5G,GACrB,OAAO,uBAAK5F,UAAU,cAAa,uBAAKA,UAAU,YAAY0M,IAAK9G,EAAO+G,eAC3EzL,GACC,kBAAM,QACV,OAAO,gBAAC,IAAD,CAAMf,OAAO,2BAAOC,gBAAiBhC,EAAOS,YAAayF,MAAOA,GACnE,uBAAKtE,UAAU,OACX,uBAAKA,UAAU,wBAAf,gBACA,uBAAKA,UAAU,8BAA8BgE,GAC7C,gBAAC,IAAD,CAAKhE,UAAU,gCAAgCsE,MAAOW,GAClD,gBAAC,IAAD,CAAU5D,GAAIW,EAAQa,OAZf,SAACnD,GAChB,OAAO,4BAAOmF,EAAO,WAAQnF,EAAKsF,MAAQtF,EAAKO,UAa3C,uBAAKD,UAAU,wBAAf,4BACA,gBAAC,IAAD,CAAKA,UAAU,wBAAwBsE,MAAOmI,GAC1C,uBAAKzM,UAAU,QAAQ+F,IAE3B,uBAAK/F,UAAU,wBAAf,gBACA,uBAAKA,UAAU,qCAAqC2D,GACpD,uBAAK3D,UAAU,wBAAf,4BACA,uBAAKA,UAAU,8BACV2F,YAAGO,GAAU,SAACN,GAAD,OAAY,gCAAGA,EAAO5B,gBAAa9C,GAAW,kBAAM,yBAAOlB,UAAU,cAAjB,gBAEtE,2BAAK,0BAAQA,UAAU,gCAAgCD,QAAS,kBAAM8N,MAAjE,sBAnCrB,wIAEQ7P,KAAKmG,SAASnG,KAAKsB,MAF3B,sDAA2BoB,KCDdoN,GAAb,kNASYxO,KAAOC,aAAS,WAAO,IAAD,EACU,EAAKC,WAAnCC,EADoB,EACpBA,UAAWE,EADS,EACTA,eACb2E,EAAQ,gBAAC,IAAD,CAAWtE,UAAU,iBAC7BE,KAAK,KACLmI,SAAU,SAAC7G,GAAD,OAAiB7B,EAAe6B,IAC1CwE,YAAY,6EAChB,OAAO,gBAAC,IAAD,CAAM5F,gBAAiBhC,EAAOS,YAAasB,OAAO,2BAAOmI,KAAK,QAAQhE,MAAOA,EAAOiE,eAAgB,EAAKA,gBAC5G,gBAAC,IAAD,CAAMpG,MAAO1C,EAAW2B,KAAM,CAAEyB,OAAQ,EAAK0B,WAAYxE,QAAS,EAAKyE,iBAhBnF,EAoBYA,UAAY,SAACpD,GACjB,EAAK5B,WAAWuO,cAAc3M,EAAKC,KArB3C,EAwBYkH,eAAiB,oBAAA9G,EAAAC,OAAA,kEAAAD,EAAA,MACf,EAAKjC,WAAWC,UAAU+I,QADX,sCAxB7B,EA4BYjE,WAAa,SAACnD,EAAWsD,GAC7B,OAAO,gBAAC,EAAKC,QAAYvD,IA7BjC,EAgCYuD,QAAUpF,aAAS,SAAC6B,GAAe,IACjC4C,EAA0B5C,EAA1B4C,QAAShC,EAAiBZ,EAAjBY,OAAQ2K,EAASvL,EAATuL,KACnB9H,EAAOC,IAAKC,IAAI/C,EAAQ,EAAKxC,WAAWE,KAAK2B,IAI7CiD,EAAQ,uBAAKtE,UAAU,+BACvB,2BAAK,gBAAC,IAAD,CAAUqB,GAAIW,EAAQa,OAJZ,SAACnD,GAChB,OAAO,4BAAOmF,EAAO,GAAKnF,EAAKsF,MAAQtF,EAAKO,WAKhD,OAAO,gBAAC,IAAD,CAAKD,UAAU,8BAA8BsE,MAAOA,GACvD,yBAAIN,GACJ,uBAAKhE,UAAU,SAAS2M,OA3CpC,wIAEQ3O,KAAKmG,SAASnG,KAAKsB,MAF3B,gFAMQ,OAAO,qBAAMA,KAAN,UANf,GAAgCoB,KCAnBwH,GAAb,kNAUY5I,KAAOC,aAAS,WAAO,IAAD,EACgB,EAAKC,WAAzC2I,EADoB,EACpBA,aAAcC,EADM,EACNA,kBAEhB9D,EAAQ,gBAAC,IAAD,CAAWtE,UAAU,iBAC7BE,KAAK,KACLmI,SAAU,SAAC7G,GAAD,OAAiB4G,EAAkB5G,IAC7CwE,YAAY,iBAEhB,OAAO,gBAAC,IAAD,CAAM5F,gBAAiBhC,EAAOS,YAAasB,OAAO,2BAAOmI,KAAK,QAAQhE,MAAOA,EAAOiE,eAAgB,EAAKA,gBAC5G,gBAAC,IAAD,CAAMpG,MAAOgG,EAAc/G,KAAM,CAAEyB,OAAQ,EAAK0B,WAAYxE,QAAS,EAAKyE,iBAnBtF,EAuBY+D,eAAiB,oBAAA9G,EAAAC,OAAA,kEAAAD,EAAA,MACf,EAAKjC,WAAW2I,aAAaK,QADd,sCAvB7B,EA2BYhE,UAAY,SAACpD,GACjB,EAAK5B,WAAWiJ,iBAAiBrH,EAAKC,KA5B9C,EA+BYkD,WAAa,SAACnD,EAAWsD,GAC7B,OAAO,gBAAC,EAAKC,QAAYvD,IAhCjC,EAmCYuD,QAAUpF,aAAS,SAAC6B,GAAe,IACjC4C,EAAoB5C,EAApB4C,QAAShC,EAAWZ,EAAXY,OACX6C,EAAOC,IAAKC,IAAI/C,EAAQ,EAAKxC,WAAWE,KAAK2B,IAI7CiD,EAAQ,uBAAKtE,UAAU,gCACvB,2BAAK,gBAAC,IAAD,CAAUqB,GAAIW,EAAQa,OAJZ,SAACnD,GAChB,OAAO,4BAAOmF,EAAO,GAAKnF,EAAKsF,MAAQtF,EAAKO,WAKhD,OAAO,gBAAC,IAAD,CAAKD,UAAU,8CAA8CsE,MAAOA,GACvE,yBAAIN,OA7ChB,wIAGQhG,KAAKmG,SAASnG,KAAKsB,MAH3B,gFAOQ,OAAO,qBAAMA,KAAN,UAPf,GAAmCoB,KCM7BgI,I,8PAGM+C,OAAwB9K,IAAWqN,MAAM,GAAI,CAAEC,MAAM,I,EACrDtF,KAAO,CACX,CAAEC,MAAO,EAAGC,MAAO,2BAAQ5I,KAAM,IAAK6I,SAAS,GAC/C,CAAEF,MAAO,EAAGC,MAAO,qBAAO5I,KAAM,IAAK6I,SAAS,GAC9C,CAAEF,MAAO,EAAGC,MAAO,2BAAQ5I,KAAM,IAAK6I,SAAS,GAC/C,CACIF,MAAO,EAAGC,MAAO,2BAAQ5I,KAAM,IAAK6I,SAAS,EAC7CoF,QAAS,CACL,CAAEtF,MAAO,EAAGC,MAAO,IAAK5I,KAAM,IAAK6I,SAAS,GAC5C,CAAEF,MAAO,EAAGC,MAAO,IAAK5I,KAAM,IAAK6I,SAAS,GAC5C,CAAEF,MAAO,EAAGC,MAAO,IAAK5I,KAAM,IAAK6I,SAAS,GAC5C,CAAEF,MAAO,EAAGC,MAAO,IAAK5I,KAAM,IAAK6I,SAAS,M,EAKhDqF,WAAa,CACjB,CAAEvF,MAAO,EAAGC,MAAO,IAAK5I,KAAM,IAAK6I,SAAS,GAC5C,CAAEF,MAAO,EAAGC,MAAO,IAAK5I,KAAM,IAAK6I,aAAS5H,GAC5C,CAAE0H,MAAO,EAAGC,MAAO,IAAK5I,KAAM,IAAK6I,aAAS5H,GAC5C,CAAE0H,MAAO,EAAGC,MAAO,IAAK5I,KAAM,IAAK6I,aAAS5H,I,EAGxC6H,SAAW,SAACC,GAChB,IAAIC,EAAMD,EAAIE,cAAcN,MAG5B,GAFUI,EAAIE,cAAcJ,QAEnB,CACL,IAAIrH,EAAiB,CAAEJ,GAAI4H,EAAKN,UAAMzH,GACtC,EAAKuK,OAAO2C,KAAK3M,OACd,CACH,IAAIiD,EAAQ,EAAK+G,OAAO4C,WAAU,SAAAhM,GAAC,OAAIA,EAAEhB,KAAO4H,KAChD,EAAKwC,OAAO6C,OAAO5J,EAAO,GAE9B,EAAK0E,SAAS,EAAKqC,S,EAEvB5I,OAAS,WACL,OAAO,uBAAK7C,UAAU,eAAe8G,MAAO,CAAEkB,OAAQ,SACjD,EAAKW,KAAK5E,KAAI,SAAC1B,EAAGqC,GAAW,IACpBkE,EAAuBvG,EAAvBuG,MAAO3I,EAAgBoC,EAAhBpC,KAAM4I,EAAUxG,EAAVwG,MACnB,OAAO,uBAAKrH,IAAKkD,EAAO1E,UAAU,aAC9B,yBAAOwG,KAAK,WAAWoC,MAAOA,EAC1B3I,KAAMA,EAAMoJ,eAAgBT,IAAU,EAAKA,MAC3CG,SAAU,EAAKA,WAHhB,IAG8BF,EAH9B,YAMX,uBAAK7I,UAAU,UACV,EAAKmJ,aAAe,uBAAKnJ,UAAU,oBAC/B,EAAKmO,WAAWpK,KAAI,SAAC1B,EAAGqC,GAAW,IAC1BkE,EAAuBvG,EAAvBuG,MAAO3I,EAAgBoC,EAAhBpC,KAAM4I,EAAUxG,EAAVwG,MACnB,OAAO,uBAAKrH,IAAKkD,EAAO1E,UAAU,aAC9B,yBAAOwG,KAAK,WAAWoC,MAAOA,EAC1B3I,KAAMA,EAAMoJ,eAAgBT,IAAU,EAAKA,QAF5C,IAGCC,EAHD,gB,6BArDRS,K,2CAElB3I,K,yEAAyB,K,IA+DxB4F,GAAiB,CACnB,CAAEtG,KAAM,WAAYuG,KAAM,SAAUC,UAAU,GAC9C,CAAExG,KAAM,SAAUuG,KAAM,WAGf+H,GAAb,2MAIY1I,SAAqB,CACzB1D,MAAO,CACHqM,SAAU,CACN1I,OAAQ,SACRrC,MAAO,qBACPmG,YAAalB,IAEjBpC,OAAQ,CAAER,OAAQ,SAAUrC,MAAO,eAAMzD,UAAW,0BAXhE,EAcYsF,kBAAoB,SAAOrF,EAAcsF,GAArB,uBAAA9D,EAAAC,OAAA,gDAKxB,IAJM+M,EAAgB,EAAKjP,WAArBiP,YACFjJ,EAAOlD,IAAEoM,MAAMnJ,EAAQC,MACrBgJ,EAAahJ,EAAbgJ,SACFG,EAAM,GACFC,EAAI,EAAGA,EAAIJ,EAAS5G,OAAQgH,IAChCD,EAAIP,KAAKI,EAASI,GAAGvN,IAEzBoN,EAAYE,GARY,sCAdhC,EA0BYrP,KAAO,WACX,OAAO,gBAAC,IAAD,CAAMa,OAAO,eAAKC,gBAAiBhC,EAAOS,aAC7C,gBAAC,IAAD,CAAMmB,UAAU,YACZuG,OAAQA,GACRV,SAAU,EAAKA,SACfe,cAAe,EAAKtB,kBACpBuB,cAAc,MAhC9B,wIAEQ7I,KAAKmG,SAASnG,KAAKsB,MAF3B,sDAA8BoB,KCnExB4J,G,YAEF,WAAYzJ,GAAqB,IAAD,8BAC5B,+CAFI0J,yBACwB,EAE5B,EAAKxJ,UAAY,EAAKC,SAAW,GACjC,EAAKuJ,oBAAsB1J,EAHC,E,kEAMXR,EAAYY,EAAgBD,G,oFAC3BE,IAAdD,IAAyBA,EAAY,G,mBACzBjD,KAAKuM,oBAAoBjL,KAAKe,EAAOY,EAAWD,I,cAA5DG,E,yBACGA,G,oFAEYC,GACnBpD,KAAKiD,eAAqBC,IAATE,EAAqB,EAAIA,EAAKC,O,GAd5BC,KAmBrBuN,G,YAIF,WAAYhO,GAAqB,IAAD,8BAC5B,+CAHIiO,sBAEwB,EAE5B,EAAK/N,UAAY,EAAKC,SAAW,EACjC,EAAK8N,iBAAmBjO,EAHI,E,kEAMXR,EAAYY,EAAgBD,G,oFAC3BE,IAAdD,IAAyBA,EAAY,G,mBACzBjD,KAAK8Q,iBAAiBxP,KAAKe,EAAOY,EAAWD,I,cAAzDG,E,yBACGA,G,oFAGYC,GACnBpD,KAAKiD,eAAqBC,IAATE,EAAqB,EAAIA,EAAKC,O,GAjB/BC,KAsBlBV,G,YAEF,WAAYC,GAAqB,IAAD,8BAC5B,+CAFIC,sBACwB,EAE5B,EAAKC,UAAY,EAAKC,SAAW,GACjC,EAAKF,iBAAmBD,EAHI,E,kEAKXR,EAAYY,EAAgBD,G,oFAC3BE,IAAdD,IAAyBA,EAAY,G,mBACzBjD,KAAK8C,iBAAiBxB,KAAKe,EAAOY,EAAWD,I,cAAzDG,E,yBACGA,G,oFAEYC,GACnBpD,KAAKiD,eAAqBC,IAATE,EAAqB,EAAIA,EAAKC,O,GAb/BC,KAiBXyN,IAAb,2dAYI/C,eAAiB,SAAOxK,EAAaQ,GAApB,SAAAP,EAAAC,OAAA,gDACb,EAAKqK,UAAY,IAAI8C,GAAU,EAAKlN,IAAIC,WAAWoN,YACnD,EAAKjD,UAAUjK,MAAM,CAAEN,IAAKA,EAAKQ,OAAQA,IAF5B,sCAZrB,EAkBIoG,kBAAoB,SAAO5G,GAAP,SAAAC,EAAAC,OAAA,gDAChB,EAAKyG,aAAe,IAAImC,GAAa,EAAK3I,IAAIC,WAAW8I,gBACzD,EAAKvC,aAAarG,MAAM,CAAEN,IAAKA,IAFf,sCAlBxB,EAuBI7B,eAAiB,SAAO6B,GAAP,SAAAC,EAAAC,OAAA,gDACb,EAAKjC,UAAY,IAAImB,GAAU,EAAKe,IAAIC,WAAWC,aACnD,EAAKpC,UAAUqC,MAAM,CAAEN,IAAKA,IAFf,sCAvBrB,EA6BIO,SAAW,SAAOV,EAAYhB,GAAnB,iBAAAoB,EAAAC,OAAA,uDACPrB,EAAM2B,OAAS,EAAKtC,KAAK2B,GADlB,WAAAI,EAAA,MAES,EAAKE,IAAIC,WAAWqN,KAAK/M,KAAKb,EAAIhB,IAF3C,OAEHc,EAFG,OAGHE,QAEaH,KADTE,EAAO,EAAK2K,UAAU5J,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEhB,KAAOA,QAE/CiB,IAAEC,MAAMnB,EAAMf,GACde,EAAKoB,QAAU,IAAIC,MAEvB,EAAKC,QAAUtB,EACf,EAAKjC,cAGLkB,EAAMgB,GAAKF,EAAIE,GACfhB,EAAMsC,QAAU,IAAIF,KACpBpC,EAAMmC,QAAU,IAAIC,KACpB,EAAKsJ,UAAU5J,MAAMS,QAAQvC,GAC7B,EAAKqC,QAAUrC,GAEnB,EAAK2L,eAAe,GAAI1L,IAAIZ,MAnBrB,sCA7Bf,EAmDImD,OAAStD,aAAS,WACd,OAAO,EAAKuD,WAAWI,OApD/B,EAuDIkB,MAAQ,WACJ,EAAK1B,aAAUxB,EACf,EAAKyG,UAAU8F,KAzDvB,EAgEI5J,SAAW,oBAAApC,EAAAC,OAAA,uDACH,EAAKoK,IACL,EAAKE,eAAe,GAAI1L,IAAIZ,MAE5B,EAAKsM,eAAe,GAAI,GAJrB,WAAAvK,EAAA,MAMY,EAAKE,IAAIC,WAAWqN,KAAKjE,OAAO,GAAI,EAAG,MANnD,OAMP,EAAK7I,MANE,6CAhEf,EA0EIsC,WAAa,SAAOpD,GAAP,SAAAI,EAAAC,OAAA,kEAAAD,EAAA,MACY,EAAKE,IAAIC,WAAWqN,KAAKtD,KAAKtK,IAD1C,OACT,EAAKqB,QADI,OAET,EAAKiF,UAAUiG,IAFN,sCA1EjB,EA+EID,UAAY,SAAOpI,EAAkBtF,EAAc2I,GAAvC,SAAAnH,EAAAC,OAAA,uDACR,EAAK/B,eAAe,IADZ,WAAA8B,EAAA,MAEK,EAAKsJ,MAAM+C,KAFhB,8EA/EhB,EAoFIC,cAAgB,SAAC1M,GACb,EAAKlC,YACL,EAAK0L,WAAW,EAAKlJ,IAAIC,WAAWK,MAAMyD,MAAMrE,KAtFxD,EAyFI+E,aAAe,SAAOb,EAAkBtF,EAAc2I,GAAvC,SAAAnH,EAAAC,OAAA,uDACX,EAAK0G,kBAAkB,IADZ,WAAA3G,EAAA,MAEE,EAAKsJ,MAAM7C,KAFb,8EAzFnB,EA8FIO,iBAAmB,SAACpH,GAChB,EAAKlC,YACL,EAAK0L,WAAW,EAAKlJ,IAAIC,WAAWkJ,SAASpF,MAAMrE,KAhG3D,EAmGIwM,cAAgB,oBAAApM,EAAAC,OAAA,gDACZ,EAAKiG,UAAU4G,IADH,sCAnGpB,EAuGIE,YAAc,SAAOpO,GAAP,SAAAoB,EAAAC,OAAA,uDACV,EAAKsK,eAAe,GAAI,GADd,WAAAvK,EAAA,MAEJ,EAAKE,IAAIC,WAAWsN,YAAY5I,OAAO,CAAE6I,MAAO,EAAKzM,QAAQrB,GAAI+N,UAAW9O,IAAIZ,KAAM2P,KAAM,CAAC,CAAEC,QAASjP,EAAM,IAAM,CAAEiP,QAASjP,EAAM,IAAM,CAAEiP,QAASjP,EAAM,IAAM,CAAEiP,QAASjP,EAAM,QAF/K,sCAvGlB,EA4GI0C,IAAM,WACF,OAAO,gBAAC,EAAKF,OAAN,OA7Gf,6EAQkCxC,GARlC,sIA6DQ,OAAOrC,KAAK8E,WAAWoF,QA7D/B,GAA4BnK,GAA5B,4CACK4C,KADL,uGAEKA,KAFL,uGAGKA,KAHL,mGAIKA,KAJL,qGAKKA,KALL,iGAMKA,KANL,yEAM+B,KAN/B,I,oBClEauC,GAAb,2MAQY5D,KAAOC,aAAS,WAAO,IAAD,EACsB,EAAKC,WAA/CC,EADoB,EACpBA,UAAWE,EADS,EACTA,eAAgB4P,EADP,EACOA,WAC7BjL,EAAQ,uBAAKtE,UAAU,gBACvB,gBAAC,IAAD,CAAWA,UAAU,iBACjBE,KAAK,KACLmI,SAAU,SAAC7G,GAAD,OAAiB7B,EAAe6B,IAC1CwE,YAAY,+CAChB,0BAAQhG,UAAU,qDAAqDD,QAASwP,GAC5E,gBAAC,IAAD,CAAItP,KAAK,WAGjB,OAAO,gBAAC,IAAD,CAAME,OAAO,eAAKC,gBAAiBhC,EAAOS,YAAayF,MAAOA,EAAOiE,eAAgB,EAAKA,gBAC7F,gBAAC,IAAD,CAAMpG,MAAO1C,EAAW2B,KAAM,CAAEyB,OAAQ,EAAK0B,kBApBzD,EA4BYgE,eAAiB,oBAAA9G,EAAAC,OAAA,kEAAAD,EAAA,MACf,EAAKjC,WAAWC,UAAU+I,QADX,sCA5B7B,EAgCYgH,UAAY,SAACvD,GACjBwD,KAAKxD,EAAEyD,OAAOC,uBAAuBC,WACrCC,MAAM,6BAlCd,EAqCYtL,WAAa,SAACnD,EAAWsD,GAAmB,IAC1CV,EAA2B5C,EAA3B4C,QAAS2I,EAAkBvL,EAAlBuL,KACXrI,GAD6BlD,EAAZuB,QACT,uBAAK3C,UAAU,cAAa,uBAAKA,UAAU,YAAY0M,IAAKC,MACxE,OAAO,gBAAC,IAAD,CAAK3M,UAAU,0BAA0BsE,MAAOA,GACnD,2BAAK,yBAAIN,IACT,uBAAKhE,UAAU,mBAAmB2M,GAClC,0BAAQ7F,MAAO,CAAES,WAAY,IAAKC,QAAQ,SAAUxH,UAAU,sCAAsCD,QAAS,EAAKyP,WAAlH,kBA3CZ,qMAIW/O,GACH,OAAO,qBAAMnB,KAAN,UALf,GAA2BoB,KCDdoP,GAAb,2MAKYxQ,KAAOC,aAAS,WAAO,IACrBmD,EAAY,EAAKlD,WAAjBkD,QACAsB,EAA0EtB,EAA1EsB,QAAehC,GAA2DU,EAAjEiK,KAAiEjK,EAA3DV,QAAekE,GAA4CxD,EAAnD8J,MAAmD9J,EAA5CwD,UAAgC1D,GAAYE,EAAlCqD,YAAkCrD,EAArBC,QAAqBD,EAAZF,SAChEyC,EAAO,4BAAM,gBAAC,IAAD,CAAUA,KAAMzC,KAC7BqC,EAAOC,IAAKC,IAAI/C,EAAQ,EAAKxC,WAAWE,KAAK2B,IAC7CiD,EAAQO,GAAQ,0BAAQ7E,UAAU,iDAAgD,gBAAC,IAAD,CAAIC,KAAK,qBAI/F,OAAO,gBAAC,IAAD,CAAME,OAAO,2BAAOC,gBAAiBhC,EAAOS,YAAayF,MAAOA,GACnE,uBAAKtE,UAAU,OACX,uBAAKA,UAAU,wBAAf,gBACA,uBAAKA,UAAU,8BAA8BgE,GAC7C,gBAAC,IAAD,CAAKhE,UAAU,gCAAgCsE,MAAOW,GAClD,gBAAC,IAAD,CAAU5D,GAAIW,EAAQa,OARf,SAACnD,GAChB,OAAO,4BAAOmF,EAAO,WAAQnF,EAAKsF,MAAQtF,EAAKO,UAS3C,uBAAKD,UAAU,wBAAf,4BACA,uBAAKA,UAAU,wBAAf,gBACA,uBAAKA,UAAU,wBAAf,4BACA,uBAAKA,UAAU,8BACV2F,YAAGO,GAAU,SAACN,GAAD,OAAY,gCAAGA,EAAO5B,gBAAa9C,GAAW,kBAAM,yBAAOlB,UAAU,cAAjB,qBAzBtF,wIAEQhC,KAAKmG,SAASnG,KAAKsB,MAF3B,sDAA8BoB,KCEjB+M,IAAb,qSAGYtI,UAHZ,IASY4K,eAAiB,SAAOC,GAAP,SAAAvO,EAAAC,OAAA,mDAChB,EAAKyD,KADW,mEAAA1D,EAAA,MAEf,EAAK0D,KAAKE,YAAY,WAFP,sCAT7B,EAiBYC,kBAAoB,SAAOrF,EAAcsF,GAArB,eAAA9D,EAAAC,OAAA,uDACpBrB,EAAQiC,IAAEoM,MAAMnJ,EAAQJ,KAAKK,OAC3BmH,KAAO,EAAK1N,UAFM,WAAAwC,EAAA,MAGlB,EAAKjC,WAAWuC,SAAS,EAAKkO,QAAS5P,IAHrB,OAIxB,EAAKlB,YAJmB,sCAjBhC,EAwBY0G,SAAqB,CACzB1D,MAAO,CACH6B,QAAS,CAAE8B,OAAQ,OAAQrC,MAAO,eAAMuC,YAAa,4BACrDM,OAAQ,CAAER,OAAQ,SAAUrC,MAAO,kBA3B/C,EA+BY8C,OAAiB,CACrB,CAAEtG,KAAM,UAAWuG,KAAM,SAAUC,UAAU,IAhCrD,EAmCY1H,QAAU,SAACC,GACf,EAAKC,UAAW,EAAKC,aAAaF,GAClC,EAAKG,aArCb,EAyCY+Q,SAAW,WACf,EAAKC,MAAQ,EAAKhL,KAAKK,KACvB,EAAKnG,gBAAgB,gBAAC,IAAD,CAAeN,QAAS,EAAKA,YA3C1D,EA8CYO,KAAOC,aAAS,WACpB,IAAIiN,EACA4D,EAeJ,OAdK,EAAKnR,WACNuN,EAAQ,uBAAKxM,UAAU,oCAAmC,uBAAKA,UAAU,mBAAmB0M,IAAK,EAAKzN,aACtGmR,EAAa,uBAAKpQ,UAAU,SACxB,uBAAKA,UAAU,4BACX,0BAAQwG,KAAK,SAASxG,UAAU,8BAA8BD,QAAS,EAAKgQ,gBAA5E,mBAKRvD,EAAQ,uBAAKxM,UAAU,4BACnB,0BAAQA,UAAU,kBAAkBD,QAAS,EAAKmQ,UAAlD,6BAID,gBAAC,IAAD,CAAM/P,OAAO,2BAAOC,gBAAiBhC,EAAOS,aAC/C,uBAAKmB,UAAU,QACX,gBAAC,IAAD,CAAM0G,IAAK,SAAArE,GAAC,OAAI,EAAK8C,KAAO9C,GAAGrC,UAAU,OACrC2G,SAAU,EAAKwJ,MACf5J,OAAQ,EAAKA,OACbV,SAAU,EAAKA,SACfe,cAAe,EAAKtB,kBACpBuB,cAAc,KAGrB2F,EACA4D,MA1Eb,oEAIeD,GAJf,kEAKQnS,KAAKmS,MAAQA,EACbnS,KAAKmG,SAASnG,KAAKsB,MAN3B,oFAeyBN,GAAuB,OAAOsB,IAAIC,OAAUvB,EAAMwB,OAAO,KAflF,8BAc4B,OAAOxC,KAAKmS,OAASnS,KAAKmS,MAAM9O,OAd5D,GAA2BX,KAA3B,qCACKC,KADL,uGAEKA,KAFL,kECKMC,G,YAEF,WAAYC,GAAqB,IAAD,8BAC5B,+CAFIC,sBACwB,EAE5B,EAAKC,UAAY,EAAKC,SAAW,GACjC,EAAKF,iBAAmBD,EAHI,E,kEAMXR,EAAYY,EAAgBD,G,oFAC3BE,IAAdD,IAAyBA,EAAY,G,mBACzBjD,KAAK8C,iBAAiBxB,KAAKe,EAAOY,EAAWD,I,cAAzDG,E,yBACGA,G,oFAEYC,GACnBpD,KAAKiD,eAAqBC,IAATE,EAAqB,EAAIA,EAAKC,O,GAd/BC,KAkBX+O,IAAb,uVASI1Q,eAAiB,SAAO6B,GAAP,SAAAC,EAAAC,OAAA,gDACb,EAAKjC,UAAY,IAAImB,GAAU,EAAKe,IAAIC,WAAWC,aACnD,EAAKpC,UAAUqC,MAAM,CAAEN,IAAKA,IAFf,sCATrB,EAeIO,SAAW,SAAOV,EAAShB,GAAhB,iBAAAoB,EAAAC,OAAA,uDACPrB,EAAM2B,OAAS,EAAKtC,KAAK2B,GADlB,WAAAI,EAAA,MAES,EAAKE,IAAIC,WAAWK,MAAMC,KAAKb,EAAIhB,IAF5C,OAEHc,EAFG,OAGHE,QAEaH,KADTE,EAAO,EAAKe,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEhB,KAAOA,QAErCiB,IAAEC,MAAMnB,EAAMf,GACde,EAAKoB,QAAU,IAAIC,MAEvB,EAAKC,QAAUtB,IAGff,EAAMgB,GAAKF,EAAIE,GACfhB,EAAMsC,QAAU,IAAIF,KACpBpC,EAAMmC,QAAU,IAAIC,KACpB,EAAKN,MAAMS,QAAQvC,GACnB,EAAKqC,QAAUrC,GAEnB,EAAKV,eAAe,IAlBb,sCAff,EAoCI4P,WAAa,WACT,EAAK7M,aAAUxB,EACf,EAAKyG,UAAU8F,KAtCvB,EAyCI5K,OAAStD,aAAS,WACd,OAAO,EAAKuD,WAAWI,OA1C/B,EA6CIoN,UAAY,SAAOjP,GAAP,SAAAI,EAAAC,OAAA,kEAAAD,EAAA,MACa,EAAKE,IAAIC,WAAWK,MAAM0J,KAAKtK,IAD5C,OACR,EAAKqB,QADG,OAER,EAAKiF,UAAUmI,IAFP,sCA7ChB,EAkDIjM,SAAW,oBAAApC,EAAAC,OAAA,kEAAAD,EAAA,MACY,EAAKE,IAAIC,WAAWK,MAAM+I,OAAO,GAAI,EAAG,MADpD,OACP,EAAK7I,MADE,OAEP,EAAKxC,eAAe,IAFb,sCAlDf,EAuDIoD,IAAM,WACF,OAAO,gBAAC,EAAKF,OAAN,OAxDf,6EAKkCxC,GALlC,uGAA4BtC,GAA5B,yCACK4C,KADL,mGAEKA,KAFL,qGAGKA,KAHL,kECxBa8M,GAAb,2MACY8C,aADZ,IAEYpL,UAFZ,IAQYC,kBAAoB,oBAAA3D,EAAAC,OAAA,mDACnB,EAAKyD,KADc,mEAAA1D,EAAA,MAElB,EAAK0D,KAAKE,YAAY,WAFJ,sCARhC,EAaYC,kBAAoB,SAAOrF,EAAcsF,GAArB,eAAA9D,EAAAC,OAAA,uDACpBL,EAAK,EAAKkP,SAAW,EAAKA,QAAQlP,GADd,WAAAI,EAAA,MAElB,EAAKjC,WAAWuC,SAASV,EAAIkE,EAAQJ,KAAKK,OAFxB,OAGxB,EAAKrG,YAHmB,sCAbhC,EAmBY0G,SAAqB,CACzB1D,MAAO,CACH6B,QAAS,CAAE8B,OAAQ,OAAQrC,MAAO,gBAClCE,QAAS,CAAEmC,OAAQ,WAAYrC,MAAO,iBAAQuC,YAAa,6CAAWC,KAAM,GAC5EuK,cAAe,CAAE1K,OAAQ,WAAYrC,MAAO,iCAASuC,YAAa,6CAAWC,KAAM,GACnFK,OAAQ,CAAER,OAAQ,SAAUrC,MAAO,kBAxB/C,EA4BY8C,OAAiB,CACrB,CAAEtG,KAAM,UAAWuG,KAAM,SAAUC,UAAU,GAC7C,CAAExG,KAAM,UAAWuG,KAAM,SAAUC,UAAU,GAC7C,CAAExG,KAAM,gBAAiBuG,KAAM,SAAUC,UAAU,IA/B3D,EAsCYnH,KAAOC,aAAS,WACR,uBAAKS,UAAU,uBACvB,wBAAMA,UAAU,8BAA8B8G,MAAO,CAAEY,SAAU,OAAQ1E,MAAO,cAEpF,OAAO,gBAAC,IAAD,CAAM7C,OAAO,2BAAOC,gBAAiBhC,EAAOS,aAC/C,uBAAKmB,UAAU,QACX,gBAAC,IAAD,CAAM0G,IAAK,SAAArE,GAAC,OAAI,EAAK8C,KAAO9C,GAAGrC,UAAU,OACrC2G,SAAU,EAAK4J,QACfhK,OAAQ,EAAKA,OACbV,SAAU,EAAKA,SACfe,cAAe,EAAKtB,kBACpBuB,cAAc,KAGtB,uBAAK7G,UAAU,eAAe8G,MAAO,CAAEC,UAAW,WAC9C,0BAAQP,KAAK,SAASxG,UAAU,8BAA8BD,QAAS,EAAKqF,mBAA5E,qBArDhB,oEAGemL,GAHf,kEAIQvS,KAAKuS,QAAUA,EACfvS,KAAKmG,SAASnG,KAAKsB,MAL3B,gFAmCQ,OAAO,qBAAMA,KAAN,UAnCf,GAA2BoB,KCAdwC,GAAb,2MAOY5D,KAAOC,aAAS,WAAO,IAAD,EACgB,EAAKC,WAAzC2I,EADoB,EACpBA,aAAcC,EADM,EACNA,kBAChB9D,EAAQ,uBAAKtE,UAAU,gBACvB,gBAAC,IAAD,CAAWA,UAAU,iBACjBE,KAAK,KACLmI,SAAU,SAAC7G,GAAD,OAAiB4G,EAAkB5G,IAC7CwE,YAAY,+CAChB,0BAAQhG,UAAU,qDAAqDD,QAAS,EAAKwP,YACjF,gBAAC,IAAD,CAAItP,KAAK,WAGjB,OAAO,gBAAC,IAAD,CAAME,OAAO,eAAKC,gBAAiBhC,EAAOS,YAAayF,MAAOA,EAAOiE,eAAgB,EAAKA,gBAC7F,gBAAC,IAAD,CAAMpG,MAAOgG,EAAc/G,KAAM,CAAEyB,OAAQ,EAAK0B,WAAYxE,QAAS,EAAKyE,iBAnBtF,EAuBY+K,WAAa,WACjB,EAAK5H,UAAU8F,KAxBvB,EA2BYjJ,UAAY,SAACpD,GACjB,EAAK5B,WAAWiF,WAAWrD,EAAKC,KA5BxC,EA+BYkH,eAAiB,oBAAA9G,EAAAC,OAAA,kEAAAD,EAAA,MACf,EAAKjC,WAAW2I,aAAaK,QADd,sCA/B7B,EAmCYjE,WAAa,SAACnD,EAAWsD,GACoBtD,EAA3CC,GAD0C,IACtC2C,EAAuC5C,EAAvC4C,QAA2BxB,GAAYpB,EAA9BuC,QAA8BvC,EAArBuB,QAAqBvB,EAAZoB,SACjC8B,EAAQ,yBAAOtE,UAAU,cAAa,gBAAC,IAAD,CAAUiF,KAAMzC,KAC1D,OAAO,gBAAC,IAAD,CAAKxC,UAAU,0BAA0BsE,MAAOA,GAClDN,IAvCb,uMAKQ,OAAO,qBAAM1E,KAAN,UALf,GAA2BoB,KCAdkN,GAAb,2MAKYtO,KAAOC,aAAS,WAAO,IACZgR,EAAY,EAAK/Q,WAA1BkD,QACN,QAAgBxB,IAAZqP,EACA,OAAO,gBAAC,IAAD,YAHe,IAKpBvM,EAA8DuM,EAA9DvM,QAASL,EAAqD4M,EAArD5M,QAAS3B,EAA4CuO,EAA5CvO,OAAiBQ,GAA2B+N,EAApC5N,QAAoC4N,EAA3B/N,SAASgO,EAAkBD,EAAlBC,cAC9CvL,EAAO,4BAAM,gBAAC,IAAD,CAAUA,KAAMzC,KAC7BqC,EAAOC,IAAKC,IAAI/C,EAAQ,EAAKxC,WAAWE,KAAK2B,IAC7CiD,EAAQO,GAAQ,0BAAQ7E,UAAU,gDAAgDD,QAAS,kBAAM,EAAK4H,UAAU8F,GAAO8C,KAAU,gBAAC,IAAD,CAAItQ,KAAK,qBAI9I,OAAO,gBAAC,IAAD,CAAME,OAAO,2BAAOC,gBAAiBhC,EAAOS,YAAayF,MAAOA,GACnE,uBAAKtE,UAAU,OACX,uBAAKA,UAAU,8BAA8BgE,GAC7C,gBAAC,IAAD,CAAKhE,UAAU,gCAAgCsE,MAAOW,GAClD,gBAAC,IAAD,CAAU5D,GAAIW,EAAQa,OAPf,SAACnD,GAChB,OAAO,4BAAOmF,EAAO,WAAQnF,EAAKsF,MAAQtF,EAAKO,UAQ3C,uBAAKD,UAAU,wBAAf,kBACA,uBAAKA,UAAU,kCAAkC2D,GACjD,uBAAK3D,UAAU,wBAAf,kCACA,uBAAKA,UAAU,2BAA2BwQ,QA1B1D,wIAEQxS,KAAKmG,SAASnG,KAAKsB,MAF3B,sDAA2BoB,KCGrB4J,G,YAEF,WAAYzJ,GAAqB,IAAD,8BAC5B,+CAFI0J,yBACwB,EAE5B,EAAKxJ,UAAY,EAAKC,SAAW,GACjC,EAAKuJ,oBAAsB1J,EAHC,E,kEAMXR,EAAYY,EAAgBD,G,oFAC3BE,IAAdD,IAAyBA,EAAY,G,mBACzBjD,KAAKuM,oBAAoBjL,KAAKe,EAAOY,EAAWD,I,cAA5DG,E,yBACGA,G,oFAEYC,GACnBpD,KAAKiD,eAAqBC,IAATE,EAAqB,EAAIA,EAAKC,O,GAd5BC,KAkBdmP,IAAb,0VASIrI,kBAAoB,SAAO5G,GAAP,SAAAC,EAAAC,OAAA,gDAChB,EAAKyG,aAAe,IAAImC,GAAa,EAAK3I,IAAIC,WAAW8I,gBACzD,EAAKvC,aAAarG,MAAM,CAAEN,IAAKA,IAFf,sCATxB,EAeIO,SAAW,SAAOV,EAAWhB,GAAlB,iBAAAoB,EAAAC,OAAA,uDACPrB,EAAM2B,OAAS,EAAKtC,KAAK2B,GADlB,WAAAI,EAAA,MAES,EAAKE,IAAIC,WAAWkJ,SAAS5I,KAAKb,EAAIhB,IAF/C,OAEHc,EAFG,OAGHE,QAEaH,KADTE,EAAO,EAAKe,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEhB,KAAOA,QAErCiB,IAAEC,MAAMnB,EAAMf,GACde,EAAKoB,QAAU,IAAIC,MAEvB,EAAKC,QAAUtB,EACf,EAAKjC,cAGLkB,EAAMgB,GAAKF,EAAIE,GACfhB,EAAMsC,QAAU,IAAIF,KACpBpC,EAAMmC,QAAU,IAAIC,KACpB,EAAKN,MAAMS,QAAQvC,GACnB,EAAKqC,QAAUrC,GAEnB,EAAK+H,kBAAkB,IAnBhB,sCAff,EAqCIvF,OAAStD,aAAS,WACd,OAAO,EAAKuD,WAAWI,OAtC/B,EAyCIW,SAAW,oBAAApC,EAAAC,OAAA,uDACP,EAAK0G,kBAAkB,IADhB,WAAA3G,EAAA,MAEY,EAAKE,IAAIC,WAAWkJ,SAASE,OAAO,GAAI,EAAG,MAFvD,OAEP,EAAK7I,MAFE,6CAzCf,EA8CIsC,WAAa,SAAMpD,GAAN,SAAAI,EAAAC,OAAA,kEAAAD,EAAA,MACY,EAAKE,IAAIC,WAAWkJ,SAASa,KAAKtK,IAD9C,OACT,EAAKqB,QADI,OAET,EAAKiF,UAAUiG,IAFN,sCA9CjB,EAmDI7K,IAAM,WACF,OAAO,gBAAC,EAAKF,OAAN,OApDf,6EAKkCxC,GALlC,uGAA+BtC,GAA/B,4CACK4C,KADL,mGAEKA,KAFL,qGAGKA,KAHL,kEClBa+P,GAAb,2MAGIvN,SAHJ,IAIIC,YAJJ,IAKIC,YALJ,IAMIC,eANJ,IAOIC,WAPJ,sEASsCiD,GAC9B,OAAO,IAAIA,EAAKxI,QAVxB,wGAcQA,KAAKmF,IAAMnF,KAAK2S,KAAKpP,GACrBvD,KAAKoF,OAASpF,KAAK2S,KAAK5B,IACxB/Q,KAAKqF,OAASrF,KAAK2S,KAAKN,IACxBrS,KAAKsF,UAAYtF,KAAK2S,KAAKF,IAC3BzS,KAAKuF,MAAQvF,KAAK2S,KAAKnG,IACvBxM,KAAK4S,WAnBb,gFAsBaC,GACL7S,KAAK2J,UAAUzE,EAAO2N,KAvB9B,0BACqB,OAAO7S,KAAKE,SADjC,GAA0B4S,K,SCRbC,GAAuB,CAChCC,QAAS,8DACTC,QAAS,OACTC,IAAK,GACLC,IAAK,sB,QASCC,ECTV9Q,IAAI+Q,YAAYN,I,IAYDO,G,2MATLC,UAAY,oBAAA9P,EAAAC,OAAA,kEAAAD,EAAA,MACZ+P,YAAMd,GAAMK,KADA,sC,wEAKlB,OAAO,gBAAC,IAAD,CAASQ,UAAWvT,KAAKuT,gB,GAPlBE,aCKEC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,MCVNC,IAASlP,OAAO,kBAAC,GAAD,MAASmP,SAASC,eAAe,SDiI3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.238c8c66.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import { CSub, CBase } from 'tonva';\r\nimport { UQs } from './uqs';\r\nimport { CApp } from 'CApp';\r\n\r\nexport abstract class CUqBase extends CBase {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n\r\n}\r\n\r\nexport abstract class CUqSub extends CSub {\r\n    get cApp(): CApp { return this.cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n    protected get owner(): CUqBase { return this._owner as CUqBase }\r\n}","export const consts = {\r\n\r\n    uqPromotion: '百灵威系统工程部/promotion',\r\n    uqWarehouse: \"百灵威系统工程部/warehouse\",\r\n    uqSalesTask: '百灵威系统工程部/salestask',\r\n    uqCustomer: '百灵威系统工程部/customer',\r\n    uqProduct: \"百灵威系统工程部/product\",\r\n    uqCommon: '百灵威系统工程部/common',\r\n    appIcon: 'http://101.200.46.56/imgs/Bear-icon.png',\r\n    headerClass: 'bg-primary py-1',\r\n}","import * as React from 'react';\r\nimport { nav, Image, VPage, Prop, ImageUploader, FA, PropGrid, LMR, Page } from 'tonva';\r\nimport { CMe } from './CMe';\r\nimport { consts } from 'consts';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\n\r\nexport class VMe extends VPage<CMe> {\r\n    @observable private mediaPath: string;\r\n    async open(param?: any) {\r\n\r\n    }\r\n    private getMediaPath(resId: string): string { return nav.resUrl + (resId.substr(1)) }\r\n\r\n    private onSaved = (resId: string): Promise<void> => {\r\n        this.mediaPath = this.getMediaPath(resId);\r\n        this.closePage();\r\n        return;\r\n    }\r\n\r\n    render(member: any): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private onupload = () => {\r\n        this.openPageElement(<ImageUploader onSaved={this.onSaved} />)\r\n    }\r\n    // logout={true}\r\n    private page = observer(() => {\r\n        let { pageMedia, searchMadiaKey } = this.controller;\r\n        // let { caption, path, $create } = pageMedia;\r\n        // let right = <div className=\"border p-1\"><img className=\"h-4c w-4c\" src={path} /></div>;\r\n        let { user } = this.controller;\r\n        console.log(pageMedia, 'nam')\r\n        let left = <div onClick={() => this.onupload()} className=\"border text-center mr-4 p-1\"><FA className=\"w-3 p-2 h-3c text-center\" name=\"camera\" size=\"2x\" /></div>\r\n        return <Page header=\"我的\" headerClassName={consts.headerClass}>\r\n            <LMR left={left}>\r\n                <div>\r\n                    <div>我的账号：{user.name}</div>\r\n                </div>\r\n            </LMR>\r\n\r\n        </Page>;\r\n    })\r\n\r\n\r\n\r\n}\r\n","import _ from 'lodash';\r\nimport { CUqBase } from '../CBase';\r\nimport { VMe } from './VMe';\r\nimport { observer } from 'mobx-react';\r\nimport { observable } from 'mobx';\r\nimport { PageItems, Query } from 'tonva';\r\n\r\nclass PageMedia extends PageItems<any> {\r\n    private searchMediaQuery: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchMediaQuery = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchMediaQuery.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CMe extends CUqBase {\r\n    @observable pageMedia: PageMedia;\r\n    @observable items: any[];\r\n    @observable current: any;\r\n\r\n    searchMadiaKey = async (key: string) => {\r\n        this.pageMedia = new PageMedia(this.uqs.webBuilder.SearchImage);\r\n        this.pageMedia.first({ key: key });\r\n    }\r\n    protected async internalStart() {\r\n\r\n    }\r\n\r\n    saveItem = async (id: any, param: any) => {\r\n        param.author = this.user.id;\r\n        let ret = await this.uqs.webBuilder.Image.save(id, param);\r\n        if (id) {\r\n            let item = this.items.find(v => v.id === id);\r\n            if (item !== undefined) {\r\n                _.merge(item, param);\r\n                item.$update = new Date();\r\n            }\r\n            this.current = item;\r\n        }\r\n        else {\r\n            param.id = ret.id;\r\n            param.$create = new Date();\r\n            param.$update = new Date();\r\n            this.items.unshift(param);\r\n            this.current = param;\r\n        }\r\n        this.searchMadiaKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VMe)\r\n    })\r\n    tab = () => this.renderView(VMe);\r\n}","import * as React from 'react';\r\nimport { VPage, TabCaptionComponent, Page, Tabs, Image } from 'tonva';\r\nimport { CApp } from '../CApp';\r\nconst color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\r\nexport class VMain extends VPage<CApp> {\r\n    async open(param?: any) {\r\n        this.openPage(this.render);\r\n    }\r\n    // opensrc = () => {\r\n    //     window.open(setting.downloadAppurl);\r\n    // }\r\n\r\n    render = (param?: any): JSX.Element => {\r\n        let { cMe, cPosts, cMedia, cTemplets, cPage } = this.controller;\r\n        let faceTabs = [\r\n            { name: 'home', label: '帖文', icon: 'tasks', content: cPosts.tab, onShown: cPosts.loadList, notify: undefined/*store.homeCount*/ },\r\n            { name: 'image', label: '图片', icon: 'vcard', content: cMedia.tab, onShown: cMedia.loadList },\r\n            { name: 'templet', label: '模板', icon: 'vcard', content: cTemplets.tab, onShown: cTemplets.loadList },\r\n            { name: 'page', label: '网页', icon: 'tasks', content: cPage.tab, onShown: cPage.loadList },\r\n            { name: 'me', label: '我的', icon: 'user', content: cMe.tab },\r\n        ].map(v => {\r\n            let { name, label, icon, content, notify, onShown } = v;\r\n            return {\r\n                name: name,\r\n                caption: (selected: boolean) => TabCaptionComponent(label, icon, color(selected)),\r\n                content: content,\r\n                notify: notify,\r\n                onShown: onShown,\r\n            }\r\n        });\r\n        return <Page header={false} headerClassName={\"bg-info\"} >\r\n            <Tabs tabs={faceTabs} />\r\n        </Page>;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { CPage } from './CPage';\r\nimport { consts } from 'consts';\r\nimport { observer } from 'mobx-react';\r\nimport { VPage, Page, FA, List, Tuid, User, UserView, EasyTime, LMR } from 'tonva';\r\n\r\nexport class VMain extends VPage<CPage> {\r\n    async open() {\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { onAdd, searchwebPage } = this.controller;\r\n        let right = <button\r\n            className=\"btn btn-success btn-sm ml-4 mr-2 align-self-center\"\r\n            onClick={onAdd}\r\n        >\r\n            <FA name=\"plus\" />\r\n        </button>;\r\n        return <Page header=\"网页\" headerClassName={consts.headerClass} right={right} >\r\n            <List items={searchwebPage} item={{ render: this.renderItem, onClick: this.itemClick }} />\r\n        </Page>;\r\n    });\r\n\r\n    private itemClick = (item: any) => {\r\n        this.controller.showDetail(item.id);\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />\r\n    }\r\n\r\n    private itemRow = observer((item: any) => {\r\n        let { author, name, $update, titel } = item;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);\r\n        let renderAuthor = (user: User) => {\r\n            return <span>{isMe ? '' : user.nick || user.name}</span>;\r\n        };\r\n        let right = <div className=\"small text-muted text-right \">\r\n            <div className=\"small pt-1\"><UserView id={author} render={renderAuthor} /></div>\r\n            <div className=\"small\"><EasyTime date={$update} /></div>\r\n        </div>;\r\n\r\n        return <LMR className=\"p-2 px-3 border-bottom\" right={right}>\r\n            <b>{name}</b>\r\n            <div className=\"small py-1 text-muted \">{titel}</div>\r\n        </LMR>;\r\n    });\r\n}","import * as React from 'react';\r\nimport { CPage } from './CPage';\r\nimport { consts } from 'consts';\r\nimport { observer } from 'mobx-react';\r\nimport { VPage, Page, Form, UiSchema, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\n\r\nexport class VEditPage extends VPage<CPage> {\r\n    private form: Form;\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onClickSaveButton = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { current } = this.controller;\r\n        let id = current && current.id;\r\n        await this.controller.saveItem(id, context.form.data);\r\n        this.closePage();\r\n    }\r\n\r\n    private templateContent = (boxId: any) => {\r\n        return tv(boxId, (values) => {\r\n            let { caption } = values;\r\n            return <>{caption}</>;\r\n        });\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            titel: { widget: 'text', label: '标题' }, \r\n\r\n            discription: {\r\n                widget: 'textarea', label: '链接描述', placeholder: '链接上用描述', rows: 3\r\n            } as UiInputItem,\r\n\r\n            name: {\r\n                widget: 'textarea', label: '名字', placeholder: '请填写模板名字', rows: 3\r\n            } as UiInputItem,\r\n    \r\n            template: {\r\n                widget: 'id', label: '布局模板', pickId: this.controller.pickTemplate, Templet: this.templateContent\r\n            } as UiIdItem,\r\n\r\n            submit: { widget: 'button', label: '提交' }\r\n        }\r\n    };\r\n\r\n    private schema: Schema = [\r\n        { name: 'titel', type: 'string', required: true },\r\n        { name: 'discription', type: 'string', required: false },\r\n        { name: 'name', type: 'string', required: true },\r\n        { name: 'template', type: 'id', required: true },\r\n    ];\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { current } = this.controller;\r\n        return <Page header=\"编辑网页\" headerClassName={consts.headerClass}>\r\n            <div className=\"mx-3\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={current}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n            <div className=\"px-1 \">\r\n                <div className=\"text-content\" style={{ textAlign: \"center\" }}>\r\n                    <button type=\"button\" className=\"btn btn-primary mx-2\"\r\n                        onClick={this.onClickSaveButton} >保存</button>\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    })\r\n}","import * as React from 'react';\r\nimport { consts } from 'consts';\r\nimport { CPage } from \"./CPage\";\r\nimport { observer } from 'mobx-react';\r\nimport { VEditPage } from './VEditPage';\r\nimport { VPage, Page, LMR, tv, EasyTime, UserView, FA, User, Tuid, List } from \"tonva\";\r\nimport { observable } from 'mobx';\r\n\r\nexport class VShowPage extends VPage<CPage> {\r\n\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n\r\n\r\n    private page = observer(() => {\r\n        let { current, onRedact, itemsModule, onCommonalityModule, ondisplay, lock } = this.controller;\r\n        let { titel, name, author, template, discription, $create, $update } = current;\r\n        let date = <span><EasyTime date={$update} /></span>;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);\r\n        let addModule = <div className=\"d-flex px-2 mt-1 \">\r\n            <button style={{ fontWeight: 550, padding:'0 5px',marginBottom:0}} onClick={() => onCommonalityModule()} className=\"h6 btn btn-outline-primary\">关联模块</button>\r\n            <div className=\"ml-4\" onClick={onRedact}>\r\n                <i className=\"iconfont icon-icon--tianjia\" style={{ fontSize: '28px', color: '#0066cc' }}></i>\r\n            </div>\r\n        </div>\r\n        let right = isMe && <button className=\"btn btn-sm btn-success mr-2 align-self-center\" onClick={() => this.openVPage(VEditPage)}><FA name=\"pencil-square-o\" /></button>;\r\n        let renderAuthor = (user: User) => {\r\n            return <span>{isMe ? '[我]' : user.nick || user.name}</span>;\r\n        };\r\n        return <Page header={name} headerClassName={consts.headerClass} right={right}>\r\n            <div className=\"p-3\">\r\n                <div className=\"small text-muted p-1\">标题 :</div>\r\n                <div className=\"mb-1 h6 px-3 py-2 bg-white\">{titel}</div>\r\n                <LMR className=\"mb-3 px-3 small text-black-50\" right={date}>\r\n                    <UserView id={author} render={renderAuthor} />\r\n                </LMR>\r\n                <div className=\"small text-muted p-1\" >链接描述 :</div>\r\n                <LMR className=\"mb-3 bg-white px-3 h6\">\r\n                    <div className=\"py-2\">{discription}</div>\r\n                </LMR>\r\n                <div className=\"small text-muted p-1\" >名字 :</div>\r\n                <pre className=\"mb-3 px-3 py-4 bg-white h6 border\">{name}</pre>\r\n                <div className=\"small text-muted p-1\">布局模板 :</div>\r\n                <div className=\"mb-3 px-3 py-2 bg-white h6\">\r\n                    {tv(template, (values) => <>{values.caption}</>, undefined, () => <small className=\"text-muted\" >[无]</small>)}\r\n                </div>\r\n            </div>\r\n            <LMR className=\"px-3 h6\" right={addModule}>\r\n                <div className=\"mt-2 h6 mb-0\" style={{ color: '#0066cc' }} onClick={() => ondisplay()}>我的模块<i className=\"iconfont icon-jiantouarrow483\"></i></div>\r\n            </LMR>\r\n            {\r\n                lock ?\r\n                    (itemsModule.length > 0 ? <List items={itemsModule} item={{ render: this.renderItem }} /> : <span className=\"pl-3\">[无，请添加]</span>)\r\n                    : <></>\r\n            }\r\n\r\n        </Page>;\r\n    })\r\n    private itemClick = (item: any) => {\r\n        console.log(item, 'item')\r\n        this.controller.showDetailModule(item);\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />\r\n    }\r\n\r\n    private itemRow = observer((item: any) => {\r\n        let { sort, content } = item;\r\n        return <div className=\"px-3 pr-4 py-1 d-flex col-12\" style={{ borderBottom: '1px dashed #dee2e6' }}>\r\n            <div className=\"col-11\" onClick={() => this.itemClick(item)}>\r\n                <div className=\"text-muted\">模块：{sort}</div>\r\n                <div className=\"text-truncate\" style={{ height: '20px' }}>内容：{content}</div>\r\n            </div>\r\n            <div className=\"px-0 col-1 text-right mr-1\">\r\n                <i className=\"iconfont icon-shanchu\" style={{ fontSize: '25px', color: '#009900' }} onClick={() => this.controller.onRemove(item.id)}></i>\r\n            </div>\r\n        </div>;\r\n    });\r\n}","import * as React from 'react';\r\nimport { VPage, Page, LMR, UserView, FA, User, Tuid, List, SearchBox } from \"tonva\";\r\nimport { observer } from 'mobx-react';\r\nimport { CPage } from './CPage';\r\n\r\nexport class VPickTemplate extends VPage<CPage> {\r\n\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pageTemplate, searchTemplateKey } = this.controller;\r\n\r\n        let right = <SearchBox className=\"w-80 mt-2 mr-2\"\r\n            size='sm'\r\n            onSearch={(key: string) => searchTemplateKey(key)}\r\n            placeholder=\"模板\" />;\r\n\r\n        return <Page header=\"选择模板\" back=\"close\" right={right} onScrollBottom={this.onScrollBottom} >\r\n            <List items={pageTemplate} item={{ render: this.renderItem, onClick: this.itemClick }} />\r\n        </Page>\r\n    });\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pageTemplate.more();\r\n    }\r\n\r\n    private itemClick = (item: any) => {\r\n        this.controller.onPickedTemplate(item.id);\r\n    };\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />\r\n    };\r\n\r\n    private itemRow = observer((item: any) => {\r\n        let { caption, author } = item;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);\r\n        let renderAuthor = (user: User) => {\r\n            return <span>{isMe ? '' : user.nick || user.name}</span>;\r\n        };\r\n        let right = <div className=\"small text-muted text-right \">\r\n            <div><UserView id={author} render={renderAuthor} /></div>\r\n        </div>;\r\n        return <LMR className=\"px-3 py-2 text-muted border bg-white\" right={right}>\r\n            <b>{caption}</b>\r\n        </LMR>;\r\n    });\r\n}\r\n","import * as React from 'react';\r\nimport { CPage } from './CPage';\r\nimport { consts } from 'consts';\r\nimport { observer } from 'mobx-react';\r\nimport { VPage, Page, Form, UiSchema, UiInputItem, Schema, Context, Widget, UiCustom } from 'tonva';\r\nimport { observable } from 'mobx';\r\n\r\n\r\nclass Discount extends Widget {\r\n    @observable dateVisible = false;\r\n    private list = [\r\n        { value: 1, title: '私有', name: 'a', checked: true },\r\n        { value: 0, title: '公有', name: 'a', checked: false },\r\n    ];\r\n\r\n    private onChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\r\n        let val = evt.currentTarget.value;\r\n        this.dateVisible = val === '0';\r\n        this.setValue(val);\r\n    }\r\n\r\n    render = () => {\r\n        return <div className=\"form-control\" style={{ height: 'auto' }}>\r\n            {this.list.map((v, index) => {\r\n                let { value, name, title } = v;\r\n                return <label key={index} className=\"my-1 mx-3\">\r\n                    <input type=\"radio\" value={value}\r\n                        name={name} defaultChecked={value === this.value}\r\n                        onChange={this.onChange} /> {title} &nbsp; </label>\r\n            })}\r\n        </div>\r\n    };\r\n}\r\n\r\nexport class VResacModule extends VPage<CPage> {\r\n    private form: Form;\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onClickSaveButton = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { currentModule } = this.controller;\r\n        let id = currentModule && currentModule.id;\r\n        await this.controller.saveItemModule(id, context.form.data);\r\n        await this.controller.onAddMap()\r\n        this.closePage();\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            content: {\r\n                widget: 'textarea', label: '内容', placeholder: '请填写内容', rows: 10\r\n            } as UiInputItem,\r\n            sort: {\r\n                widget: 'updown', label: '排序', placeholder: '请填写数字'\r\n            } as UiInputItem,\r\n            branchType: {\r\n                widget: 'custom',\r\n                label: '请选择',\r\n                WidgetClass: Discount,\r\n                defaultValue: \"1\",\r\n            } as UiCustom,\r\n            submit: { widget: 'button', label: '提交' }\r\n        }\r\n    };\r\n\r\n    private schema: Schema = [\r\n        { name: 'content', type: 'string', required: true },\r\n        { name: 'sort', type: 'number', required: true },\r\n        { name: 'branchType', type: 'number', required: true },\r\n    ];\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { currentModule } = this.controller;\r\n        console.log(currentModule,'currentModule')\r\n        return <Page header=\"编辑子模块\" headerClassName={consts.headerClass}>\r\n            <div className=\"mx-3\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={currentModule}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n            <div className=\"px-1 \">\r\n                <div className=\"text-content\" style={{ textAlign: \"center\" }}>\r\n                    <button type=\"button\" className=\"btn btn-primary mx-2\"\r\n                        onClick={this.onClickSaveButton} >保存</button>\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    })\r\n}","import * as React from 'react';\r\nimport { VPage, Page, LMR, tv, EasyTime, UserView, FA, User, Tuid, List, SearchBox } from \"tonva\";\r\nimport { observer } from 'mobx-react';\r\nimport { CPage } from './CPage';\r\nimport { consts } from 'consts';\r\n\r\nexport class VPickBranch extends VPage<CPage> {\r\n\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { searchBranch, searchBranchKey } = this.controller;\r\n        let right = <SearchBox className=\"w-80 mt-2 mr-2\"\r\n            size='sm'\r\n            onSearch={(key: string) => searchBranchKey(key)}\r\n            placeholder=\"模板\" />;\r\n\r\n        return <Page header=\"选择模板\" headerClassName={consts.headerClass} back=\"close\" right={right} onScrollBottom={this.onScrollBottom} >\r\n            <List items={searchBranch} item={{ render: this.renderItem, onClick: this.itemClick }} />\r\n        </Page>\r\n    });\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.searchBranch.more();\r\n    }\r\n\r\n    private itemClick = (item: any) => {\r\n        this.controller.onPickedBranch(item.id);\r\n    };\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />\r\n    };\r\n\r\n    private itemRow = observer((item: any) => {\r\n        let { author, content } = item;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);\r\n        let renderAuthor = (user: User) => {\r\n            return <span>{isMe ? '' : user.nick || user.name}</span>;\r\n        };\r\n        let right = <div className=\"small text-muted text-right \">\r\n            <div><UserView id={author} render={renderAuthor} /></div>\r\n        </div>;\r\n        return <LMR className=\"px-3 py-2 text-muted border bg-white\" right={right}>\r\n            <b>{content}</b>\r\n        </LMR>;\r\n    });\r\n}\r\n","import _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { VMain } from './VMain';\r\nimport { observable } from 'mobx';\r\nimport { CUqBase } from '../CBase';\r\nimport { observer } from 'mobx-react';\r\nimport { VShowPage } from './VShowPage';\r\nimport { VEditPage } from './VEditPage';\r\nimport { VPickTemplate } from \"./VPickTemplate\";\r\nimport { Query, PageItems, nav, Context } from 'tonva';\r\nimport { VResacModule } from './VRedactModule';\r\nimport { VPickBranch } from './VPinkBranch';\r\n\r\n// 网页\r\nclass SearchWebPage extends PageItems<any> {\r\n    private searchPageQuery: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 8;\r\n        this.searchPageQuery = searchQuery;\r\n    }\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPageQuery.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\n// 全部子模块\r\nclass SearchBranch extends PageItems<any> {\r\n    private searchBranchQuery: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 8;\r\n        this.searchBranchQuery = searchQuery;\r\n    }\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchBranchQuery.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\n// 模板\r\nclass PageTemplate extends PageItems<any> {\r\n    private searchTemplateQuery: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchTemplateQuery = searchQuery;\r\n    }\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchTemplateQuery.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPage extends CUqBase {\r\n    @observable pageTemplate: PageTemplate;\r\n    @observable searchBranch: SearchBranch;\r\n    @observable searchwebPage: SearchWebPage;\r\n    @observable items: any[];\r\n    @observable itemsModule: any[];\r\n    @observable currentModule: any;\r\n    @observable current: any;\r\n    @observable lock: boolean = false;\r\n\r\n    protected async internalStart(param: any) {\r\n    }\r\n\r\n    /* 网页查询*/\r\n    searchPageKey = async (key: string, author: any) => {\r\n        this.searchwebPage = new SearchWebPage(this.uqs.webBuilder.SearchWebPage);\r\n        this.searchwebPage.first({ key: key, author: author });\r\n    }\r\n\r\n    // 模板查询\r\n    searchTemplateKey = async (key: string) => {\r\n        this.pageTemplate = new PageTemplate(this.uqs.webBuilder.SearchTemplate);\r\n        this.pageTemplate.first({ key: key });\r\n    }\r\n\r\n    // 子模板查询\r\n    searchBranchKey = async (key: string) => {\r\n        this.searchBranch = new SearchBranch(this.uqs.webBuilder.SearchBranch);\r\n        this.searchBranch.first({ key: key });\r\n    }\r\n\r\n    // 保存网页\r\n    saveItem = async (id: number, param: any) => {\r\n        param.author = this.user.id;\r\n        let ret = await this.uqs.webBuilder.WebPage.save(id, param);\r\n        if (id) {\r\n            let item = this.items.find(v => v.id === id);\r\n            if (item !== undefined) {\r\n                _.merge(item, param);\r\n                item.$update = new Date();\r\n            }\r\n            this.current = item;\r\n            this.closePage();\r\n        }\r\n        else {\r\n            param.id = ret.id;\r\n            param.$create = new Date();\r\n            param.$update = new Date();\r\n            this.items.unshift(param);\r\n            this.current = param;\r\n        }\r\n        this.searchPageKey(\"\", 0);\r\n    }\r\n\r\n    // 保存模块\r\n    saveItemModule = async (id: number, param: any) => {\r\n        param.author = this.user.id;\r\n        let ret = await this.uqs.webBuilder.Branch.save(id, param);\r\n        if (id) {\r\n            let item = this.itemsModule.find(v => v.id === id);\r\n            if (item !== undefined) {\r\n                _.merge(item, param);\r\n                item.$update = new Date();\r\n            }\r\n            this.currentModule = item;\r\n        }\r\n        else {\r\n            param.id = ret.id;\r\n            param.$create = new Date();\r\n            param.$update = new Date();\r\n            this.itemsModule.unshift(param);\r\n            this.currentModule = param;\r\n        }\r\n        this.searchBranchKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VMain)\r\n    })\r\n\r\n    // 添加网页\r\n    onAdd = () => {\r\n        this.current = undefined;\r\n        this.openVPage(VEditPage);\r\n    }\r\n\r\n    // 添加子模块\r\n    onRedact = () => {\r\n        this.currentModule = undefined;\r\n        this.openVPage(VResacModule);\r\n    }\r\n\r\n\r\n    onPickedTemplate = (id: number) => {\r\n        this.closePage();\r\n        this.returnCall(this.uqs.webBuilder.Template.boxId(id));\r\n    }\r\n\r\n    // 网页模板\r\n    pickTemplate = async (context: Context, name: string, value: number): Promise<any> => {\r\n        this.searchTemplateKey(\"\");\r\n        return await this.vCall(VPickTemplate);\r\n    }\r\n\r\n    loadList = async () => {\r\n        this.searchPageKey('', 0);\r\n        this.items = await this.uqs.webBuilder.WebPage.search('', 0, 100);\r\n    }\r\n\r\n    // 公共关联模块\r\n    onCommonalityModule = async () => {\r\n        this.searchBranchKey('');\r\n        this.openVPage(VPickBranch);\r\n    }\r\n\r\n    ondisplay = () => {\r\n        if(this.lock) {\r\n            this.lock = false;\r\n        } else {\r\n            this.lock = true;\r\n        }\r\n    }\r\n\r\n    // 删除私有模块\r\n    onRemove = async (id: number) => {\r\n        await this.uqs.webBuilder.WebPageBranch.del({ webPage: this.current.id, arr1: [{ branch: id }] });\r\n        let result = await this.uqs.webBuilder.SearchPrivateBranch.query({ _page: this.current.id });\r\n        this.itemsModule = result.ret;\r\n\r\n    }\r\n\r\n    // 选择公共模块\r\n    onPickedBranch = async (id: number) => {\r\n        await this.uqs.webBuilder.WebPageBranch.add({ webPage: this.current.id, arr1: [{ branch: id, sort: 0 }] });\r\n        let result = await this.uqs.webBuilder.SearchPrivateBranch.query({ _page: this.current.id });\r\n        this.itemsModule = result.ret;\r\n        this.closePage();\r\n    }\r\n\r\n    // 显示网页详情\r\n    showDetail = async (id: number) => {\r\n        this.current = await this.uqs.webBuilder.WebPage.load(id);\r\n        let result = await this.uqs.webBuilder.SearchPrivateBranch.query({ _page: id });\r\n        this.itemsModule = result.ret;\r\n        this.openVPage(VShowPage);\r\n    }\r\n\r\n    // 显示模块详情\r\n    showDetailModule = async (itme: any) => {\r\n        this.currentModule = itme;\r\n        this.openVPage(VResacModule);\r\n    }\r\n\r\n    // 添加子模块\r\n    onAddMap = async () => {\r\n        await this.uqs.webBuilder.WebPageBranch.add({ webPage: this.current.id, arr1: [{ branch: this.currentModule.id, sort: this.currentModule.sort }] });\r\n    }\r\n    //：{ key1: key1值, arr1:[{key2: key2值}] \r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}","import * as React from \"react\";\r\nimport { consts } from \"consts\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VPage, Page, FA, List, LMR, EasyTime, tv, UserView, User, Tuid, SearchBox } from \"tonva\";\r\nimport { CPosts } from \"./CPosts\";\r\nimport classNames from 'classnames';\r\n\r\nexport class VMain extends VPage<CPosts> {\r\n\r\n    async open() {\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    onBtn = () => {\r\n\r\n        if (this.controller.flg) {\r\n            this.controller.flg = false;\r\n            this.controller.loadList();\r\n\r\n        } else {\r\n            this.controller.flg = true;\r\n            this.controller.loadList();\r\n        }\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pagePosts, onAdd, searchPostsKey } = this.controller;\r\n        let right = <>\r\n            <SearchBox className=\"mt-1 w-100\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchPostsKey(key, \"\")}\r\n                placeholder=\"请输入您要查找的标题\" />\r\n            <button\r\n                className=\"btn btn-success btn-sm ml-4 mr-2 align-self-center\"\r\n                onClick={onAdd}>\r\n                <FA name=\"plus\" />\r\n            </button></>;\r\n        return <Page header=\"帖文\" headerClassName={consts.headerClass} right={right} onScrollBottom={this.onScrollBottom} >\r\n            <div className=\"px-3 py-2 d-flex justify-content-center\">\r\n                <div className=\"d-flex justify-content-center\" onClick={(e) => this.onBtn()}>\r\n                    <strong className={classNames(\"small text-right\")}>我的</strong>\r\n                    <div className=\"mx-2\"\r\n                        style={{ width: '40px', height: '18px', backgroundColor: 'rgb(211, 209, 209)', borderRadius: '20px', }}>\r\n                        {\r\n                            this.controller.flg ?\r\n                                <div\r\n                                    style={{ border: '1px solid #007bff', width: '20px', height: '18px', backgroundColor: '#007bff', borderRadius: '100%', }}>\r\n                                </div>\r\n                                :\r\n                                <div\r\n                                    style={{ border: '1px solid #007bff', marginLeft: \"20px\", width: '20px', height: '18px', backgroundColor: '#007bff', borderRadius: '100%', }}>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                    <strong className={classNames(\"small\")}>全部</strong>\r\n                </div>\r\n            </div>\r\n            <List items={pagePosts} item={{ render: this.renderItem, onClick: this.itemClick }} />\r\n        </Page>;\r\n    });\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pagePosts.more();\r\n    }\r\n\r\n    private itemClick = (item: any) => {\r\n        this.controller.showDetail(item.id);\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />\r\n    }\r\n\r\n    private itemRow = observer((item: any) => {\r\n        let { image, caption, discription, author, $create, $update } = item;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);\r\n        let renderAuthor = (user: User) => {\r\n            return <span>{isMe ? '' : user.nick || user.name}</span>;\r\n        };\r\n        let right = <div className=\"small text-muted text-right w-6c \">\r\n            <div className=\"small pt-1\"><UserView id={author} render={renderAuthor} /></div>\r\n            <div className=\"small\"><EasyTime date={$update} /></div>\r\n        </div>;\r\n        let tvImage = tv(image, (values) => {\r\n            return <div className=\"border text-center p-1 mr-4\"><img className=\"w-3c h-3c\" src={values.path} /></div>;\r\n        }, undefined,               //w-6c h-4c mr-2 text-black-50 justify-content-center d-flex align-items-center\r\n            () => <div className=\"border text-center mr-4 p-1\"><FA className=\"w-3 p-2 h-3c text-center\" name=\"camera\" size=\"2x\" /></div>);\r\n        return <LMR className=\"p-2 border-bottom\" left={tvImage} right={right}>\r\n            <b>{caption}</b>\r\n            <div className=\"small py-1 text-muted \">{discription}</div>\r\n        </LMR>;\r\n    });\r\n}","import * as React from 'react';\r\n\r\nexport const PureJSONContent = (values:any, x?:any) => <>content: {JSON.stringify(values)}</>;\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Tuid, BoxId } from '../../uq';\r\nimport { PureJSONContent } from '../tools';\r\n\r\nexport class TuidWithUIRes {\r\n    readonly tuid: Tuid;\r\n    readonly ui: any;\r\n    readonly res: any;\r\n    constructor(tuid:Tuid, ui:any, res:any) {\r\n        this.tuid = tuid;\r\n        this.ui = ui;\r\n        this.res = res;\r\n    }\r\n}\r\n\r\nexport class ReactBoxId implements BoxId {\r\n    readonly id: number;\r\n    protected tuidUR: TuidWithUIRes;\r\n    readonly isUndefined:boolean;\r\n    constructor(tuidUR: TuidWithUIRes, id: number) {\r\n        this.tuidUR = tuidUR;\r\n        this.id = id;\r\n        this.isUndefined = (this.tuidUR.tuid === undefined);\r\n    }\r\n\r\n    get obj():any {\r\n        return this.tuidUR.tuid.valueFromId(this.id);\r\n    }\r\n\r\n    equ(id:BoxId|number): boolean {\r\n        if (id === undefined || id === null) return false;\r\n        if (typeof id === 'object') return this.id === id.id;\r\n        return this.id === id;\r\n    }\r\n\r\n    render(ui:TvTemplet, x:any):JSX.Element {\r\n        if (this.id === undefined || this.id === null) return;\r\n        let boxName = this.boxName; // this.tuid.name;\r\n        let val = this.obj; // this.tuid.valueFromId(this.id);\r\n        if (this.isUndefined === true) {\r\n            if (ui !== undefined) return ui(val, x);\r\n            return PureJSONContent(val, x);\r\n        }\r\n        switch (typeof val) {\r\n            case 'undefined':\r\n                return <del className=\"text-black-50\">{boxName} undefined</del>;\r\n            case 'number':\r\n                return <del className=\"text-black-50\">{boxName} {this.id}</del>;\r\n        }\r\n        if (ui === undefined) {\r\n            ui = this.tuidUR.ui;\r\n        }\r\n        if (ui !== undefined) {\r\n            if (typeof ui !== 'function') {\r\n                ui = (ui as any).content;\r\n            }\r\n            if (ui !== undefined) {\r\n                let ret = ui(val, this.tuidUR.res);\r\n                if (ret !== undefined) return ret;\r\n                return <del className=\"text-danger\">{boxName} {this.id}</del>;\r\n            }\r\n        }\r\n\r\n        return PureJSONContent(val);\r\n    }\r\n\r\n    get boxName():string {return this.tuidUR.tuid.name}\r\n    // ui(): TvTemplet {return this.tuid.ui}\r\n    // res(): any {return this.tuid.res}\r\n\r\n    async assure(): Promise<BoxId> {\r\n        await this.tuidUR.tuid.assureBox(this.id);\r\n        return this;\r\n    }\r\n}\r\n\r\nfunction boxIdContent(bi: number|BoxId, ui:TvTemplet, x:any) {\r\n    let logContent:any;\r\n    let boxId:ReactBoxId = bi as ReactBoxId;\r\n    switch(typeof bi) {\r\n        case 'undefined': logContent = <>boxId undefined</>; break;\r\n        case 'number': logContent = <>id:{bi}</>; break;\r\n        default:\r\n            if (typeof boxId.render !== 'function') {\r\n                if (ui === undefined) {\r\n                    logContent = PureJSONContent(bi, x);\r\n                }\r\n                else {\r\n                    return ui(bi, x);\r\n                }\r\n            }\r\n            break;\r\n    }\r\n    if (logContent !== undefined) {\r\n        return <del className=\"text-danger\">{logContent}</del>;\r\n    }\r\n    return boxId.render(ui, x);\r\n}\r\n\r\nexport type TvTemplet = (values?:any, x?:any) => JSX.Element;\r\n\r\ninterface Props {\r\n    tuidValue: number|BoxId, \r\n    ui?: TvTemplet,\r\n    x?: any,\r\n    nullUI?: ()=>JSX.Element\r\n}\r\n\r\nconst Tv = observer(({tuidValue, ui, x, nullUI}:Props) => {\r\n    if (tuidValue === undefined) {\r\n        if (nullUI === undefined) return <>[undefined]</>;\r\n        return nullUI();\r\n    }\r\n    if (tuidValue === null) {\r\n        if (nullUI === undefined) return <>[null]</>;\r\n        return nullUI();\r\n    }\r\n    let ttv = typeof tuidValue;\r\n    switch (ttv) {\r\n        default:\r\n            if (ui === undefined)\r\n                return <>{ttv}-{tuidValue}</>;\r\n            else {\r\n                let ret = ui(tuidValue, x);\r\n                if (ret !== undefined) return ret;\r\n                return <>{tuidValue}</>;\r\n            }\r\n        case 'object':\r\n            let divObj = boxIdContent(tuidValue, ui, x);\r\n            if (divObj !== undefined) return divObj;\r\n            return nullUI === undefined? <>id null</>: nullUI();\r\n        case 'number':\r\n            return <>id...{tuidValue}</>;\r\n    }\r\n});\r\n\r\nexport const tv = (tuidValue:number|BoxId, ui?:TvTemplet, x?:any, nullUI?:()=>JSX.Element):JSX.Element => {\r\n    return <Tv tuidValue={tuidValue} ui={ui} x={x} nullUI={nullUI} />;\r\n};\r\n\r\n/*\r\nclass BoxDivId extends BoxId {\r\n    private div: TuidDiv;\r\n    constructor(tuid: Tuid, div: TuidDiv, id: number) {\r\n        super(tuid, id);\r\n        this.div = div;\r\n    }\r\n    get obj():any {\r\n        return this.div.valueFromId(this.id);\r\n    }\r\n    boxName():string {return this.div.name}\r\n    isUndefined(): boolean {return this.div === undefined}\r\n    ui(): TvTemplet {return this.div.ui}\r\n    res(): any {return this.div.res}\r\n\r\n    async assure(): Promise<void> {\r\n        await this.div.assureBox(this.id);\r\n    }\r\n}\r\n*/\r\n","import * as React from 'react';\r\nimport _ from 'lodash';\r\nimport { CPosts } from \"./CPosts\";\r\nimport { VPage, Form, Context, UiSchema, Schema, Page, UiInputItem, UiIdItem } from \"tonva\";\r\nimport { observer } from 'mobx-react';\r\nimport { consts } from 'consts';\r\nimport { tv } from 'tonva/CApp/cUq/reactBoxId';\r\n\r\nexport class VEdit extends VPage<CPosts> {\r\n    private form: Form;\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onClickSaveButton = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { current } = this.controller;\r\n        let id = current && current.id;\r\n        await this.controller.saveItem(id, context.form.data);\r\n        this.closePage();\r\n    }\r\n\r\n    private imageContent = (boxId: any) => {\r\n        return tv(boxId, (values) => {\r\n            let { caption } = values;\r\n            return <>{caption}</>;\r\n        });\r\n    }\r\n\r\n    private templateContent = (boxId: any) => {\r\n        return tv(boxId, (values) => {\r\n            let { caption } = values;\r\n            return <>{caption}</>;\r\n        });\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            caption: { widget: 'text', label: '标题' },\r\n\r\n            discription: {\r\n                widget: 'textarea', label: '链接描述', placeholder: '链接上用描述', rows: 3\r\n            } as UiInputItem,\r\n\r\n            content: {\r\n                widget: 'textarea', label: '内容', placeholder: '请填写模板内容', rows: 8\r\n            } as UiInputItem,\r\n\r\n            image: {\r\n                widget: 'id', label: '链接图片', pickId: this.controller.pickImage, Templet: this.imageContent\r\n            } as UiIdItem,\r\n\r\n            template: {\r\n                widget: 'id', label: '布局模板', pickId: this.controller.pickTemplate, Templet: this.templateContent\r\n            } as UiIdItem,\r\n            submit: { widget: 'button', label: '提交' }\r\n        }\r\n    };\r\n\r\n    private schema: Schema = [\r\n        { name: 'caption', type: 'string', required: true },\r\n        { name: 'discription', type: 'string', required: false },\r\n        { name: 'content', type: 'string', required: true },\r\n        { name: 'image', type: 'id', required: false },\r\n        { name: 'template', type: 'id', required: false },\r\n    ];\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { current } = this.controller;\r\n        return <Page header=\"编辑帖文\" headerClassName={consts.headerClass}>\r\n            <div className=\"mx-3\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={current}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n            <div className=\"px-1 \">\r\n                <div className=\"text-content\" style={{ textAlign: \"center\" }}>\r\n                    <button type=\"button\" className=\"btn btn-primary mx-2\"\r\n                        onClick={this.onClickSaveButton} >保存</button>\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    })\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, LMR, tv, EasyTime, UserView, FA, User, Tuid } from \"tonva\";\r\nimport { CPosts } from \"./CPosts\";\r\nimport { VEdit } from './VEdit';\r\nimport { observer } from 'mobx-react';\r\nimport { consts } from 'consts';\r\n\r\nexport class VShow extends VPage<CPosts> {\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { current, onShowRelease } = this.controller;\r\n        let { caption, content, author, image, template, discription, $create, $update } = current;\r\n        let date = <span><EasyTime date={$update} /></span>;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);\r\n        let right = isMe && <button className=\"btn btn-sm btn-success mr-2 align-self-center\" onClick={() => this.openVPage(VEdit)}><FA name=\"pencil-square-o\" /></button>;\r\n        let renderAuthor = (user: User) => {\r\n            return <span>{isMe ? '[我]' : user.nick || user.name}</span>;\r\n        };\r\n        let tvImage = tv(image, (values) => {\r\n            return <div className=\"border p-2\"><img className=\"w-3c h-3c\" src={values.path} /></div>;\r\n        }, undefined,\r\n            () => null);\r\n        return <Page header=\"帖文内容\" headerClassName={consts.headerClass} right={right}>\r\n            <div className=\"p-3\">\r\n                <div className=\"small text-muted p-1\">标题</div>\r\n                <div className=\"mb-1 h6 px-3 py-2 bg-white\">{caption}</div>\r\n                <LMR className=\"mb-3 px-3 small text-black-50\" right={date}>\r\n                    <UserView id={author} render={renderAuthor} />\r\n                </LMR>\r\n                <div className=\"small text-muted p-1\">链接描述</div>\r\n                <LMR className=\"mb-3 bg-white px-3 h6\" right={tvImage}>\r\n                    <div className=\"py-2\">{discription}</div>\r\n                </LMR>\r\n                <div className=\"small text-muted p-1\">内容</div>\r\n                <pre className=\"mb-3 px-3 py-4 bg-white h6 border\">{content}</pre>\r\n                <div className=\"small text-muted p-1\">布局模板</div>\r\n                <div className=\"mb-3 px-3 py-2 bg-white h6\">\r\n                    {tv(template, (values) => <>{values.caption}</>, undefined, () => <small className=\"text-muted\" >[无]</small>)}\r\n                </div>\r\n                <div><button className=\"col-12 btn btn-sm btn-primary\" onClick={() => onShowRelease()}>发布</button></div>\r\n            </div>\r\n        </Page>;\r\n    })\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, LMR, tv, EasyTime, UserView, FA, User, Tuid, List, SearchBox } from \"tonva\";\r\nimport { CPosts } from \"./CPosts\";\r\nimport { observer } from 'mobx-react';\r\nimport { consts } from 'consts';\r\n\r\nexport class VPickImage extends VPage<CPosts> {\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pageMedia, searchMadiaKey } = this.controller;\r\n        let right = <SearchBox className=\"w-80 mt-2 mr-2\"\r\n            size='sm'\r\n            onSearch={(key: string) => searchMadiaKey(key)}\r\n            placeholder=\"请输入您要查找的图片标题\" />;\r\n        return <Page headerClassName={consts.headerClass} header=\"选择图片\" back=\"close\" right={right} onScrollBottom={this.onScrollBottom}>\r\n            <List items={pageMedia} item={{ render: this.renderItem, onClick: this.itemClick }} />\r\n        </Page>\r\n    })\r\n\r\n    private itemClick = (item: any) => {\r\n        this.controller.onPickedImage(item.id);\r\n    };\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pageMedia.more();\r\n    };\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />\r\n    };\r\n\r\n    private itemRow = observer((item: any) => {\r\n        let { caption, author, path } = item;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);\r\n        let renderAuthor = (user: User) => {\r\n            return <span>{isMe ? '' : user.nick || user.name}</span>;\r\n        };\r\n        let right = <div className=\"small text-muted text-right\">\r\n            <div><UserView id={author} render={renderAuthor} /></div>\r\n        </div>;\r\n        return <LMR className=\"px-3 py-2 b-1 border-bottom\" right={right}>\r\n            <b>{caption}</b>\r\n            <div className=\"small\">{path}</div>\r\n        </LMR>;\r\n    });\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, LMR, tv, EasyTime, UserView, FA, User, Tuid, List, SearchBox } from \"tonva\";\r\nimport { CPosts } from \"./CPosts\";\r\nimport { observer } from 'mobx-react';\r\nimport { consts } from 'consts';\r\n\r\nexport class VPickTemplate extends VPage<CPosts> {\r\n\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pageTemplate, searchTemplateKey } = this.controller;\r\n        \r\n        let right = <SearchBox className=\"w-80 mt-2 mr-2\"\r\n            size='sm'\r\n            onSearch={(key: string) => searchTemplateKey(key)}\r\n            placeholder=\"模板\" />;\r\n\r\n        return <Page headerClassName={consts.headerClass} header=\"选择模板\" back=\"close\" right={right} onScrollBottom={this.onScrollBottom} >\r\n            <List items={pageTemplate} item={{ render: this.renderItem, onClick: this.itemClick }} />\r\n        </Page>\r\n    });\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pageTemplate.more();\r\n    }\r\n\r\n    private itemClick = (item: any) => {\r\n        this.controller.onPickedTemplate(item.id);\r\n    };\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />\r\n    };\r\n\r\n    private itemRow = observer((item: any) => {\r\n        let { caption, author } = item;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);\r\n        let renderAuthor = (user: User) => {\r\n            return <span>{isMe ? '' : user.nick || user.name}</span>;\r\n        };\r\n        let right = <div className=\"small text-muted text-right \">\r\n            <div><UserView id={author} render={renderAuthor} /></div>\r\n        </div>;\r\n        return <LMR className=\"px-3 py-2 text-muted border-bottom bg-white\" right={right}>\r\n            <b>{caption}</b>\r\n        </LMR>;\r\n    });\r\n}\r\n","import * as React from 'react';\r\nimport { CPosts } from './CPosts';\r\nimport { VPage, Page, Widget, UiSchema, UiCustom, Form, Schema, Context } from 'tonva';\r\nimport { consts } from 'consts';\r\nimport { observe, observable } from 'mobx';\r\nimport _, { List } from \"lodash\"\r\n\r\ninterface ReleaseType {\r\n    id: string\r\n    list: any[];\r\n}\r\n\r\nclass Discount extends Widget {\r\n\r\n    @observable dateVisible = false;\r\n    private result: ReleaseType[] = observable.array([], { deep: true });\r\n    private list = [\r\n        { value: 1, title: '内部销售', name: 'a', checked: true },\r\n        { value: 2, title: '轻代理', name: 'a', checked: false },\r\n        { value: 3, title: '内部网页', name: 'a', checked: false },\r\n        {\r\n            value: 4, title: '公开网页', name: 'a', checked: false,\r\n            subList: [\r\n                { value: 5, title: 'a', name: 'a', checked: true },\r\n                { value: 6, title: 'b', name: 'a', checked: false },\r\n                { value: 7, title: 'c', name: 'a', checked: false },\r\n                { value: 8, title: 'd', name: 'a', checked: false }\r\n            ]\r\n        }\r\n    ];\r\n\r\n    private publicList = [\r\n        { value: 5, title: 'a', name: 'a', checked: true },\r\n        { value: 6, title: 'b', name: 'a', checked: undefined },\r\n        { value: 7, title: 'c', name: 'a', checked: undefined },\r\n        { value: 8, title: 'd', name: 'a', checked: undefined }\r\n    ];\r\n\r\n    private onChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\r\n        let val = evt.currentTarget.value;\r\n        let sel = evt.currentTarget.checked;\r\n        // this.dateVisible = val === '4' && sel === true;\r\n        if (sel) {\r\n            let a: ReleaseType = { id: val, list: undefined }\r\n            this.result.push(a);\r\n        } else {\r\n            let index = this.result.findIndex(v => v.id === val);\r\n            this.result.splice(index, 1);\r\n        }\r\n        this.setValue(this.result);\r\n    }\r\n    render = () => {\r\n        return <div className=\"form-control\" style={{ height: 'auto' }}>\r\n            {this.list.map((v, index) => {\r\n                let { value, name, title } = v;\r\n                return <div key={index} className=\"my-1 mx-3\">\r\n                    <input type=\"checkbox\" value={value}\r\n                        name={name} defaultChecked={value === this.value}\r\n                        onChange={this.onChange} /> {title} &nbsp;\r\n                </div>\r\n            })}\r\n            <div className=\"d-flex\">\r\n                {this.dateVisible && <div className=\"my-1 mx-3 d-flex\">\r\n                    {this.publicList.map((v, index) => {\r\n                        let { value, name, title } = v;\r\n                        return <div key={index} className=\"my-1 mx-3\">\r\n                            <input type=\"checkbox\" value={value}\r\n                                name={name} defaultChecked={value === this.value}\r\n                            /> {title} &nbsp;\r\n                            </div>\r\n                    })}\r\n                </div>}\r\n            </div>\r\n        </div>\r\n    };\r\n}\r\n\r\nconst schema: Schema = [\r\n    { name: 'discount', type: 'string', required: false },\r\n    { name: 'submit', type: 'submit' },\r\n];\r\n\r\nexport class VRelease extends VPage<CPosts>  {\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            discount: {\r\n                widget: 'custom',\r\n                label: '请选择',\r\n                WidgetClass: Discount,\r\n            } as UiCustom,\r\n            submit: { widget: 'button', label: '提交', className: 'btn btn-primary w-8c' },\r\n        }\r\n    }\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { publishPost } = this.controller;\r\n        let data = _.clone(context.data);\r\n        let { discount } = data;\r\n        let arr = [];\r\n        for(let i = 0; i < discount.length; i++) {\r\n            arr.push(discount[i].id)\r\n        }\r\n        publishPost(arr);\r\n\r\n    }\r\n\r\n    private page = () => {\r\n        return <Page header=\"发布\" headerClassName={consts.headerClass} >\r\n            <Form className=\"my-3 mx-3\"\r\n                schema={schema}\r\n                uiSchema={this.uiSchema}\r\n                onButtonClick={this.onFormButtonClick}\r\n                requiredFlag={false} />\r\n        </Page>\r\n    }\r\n}","import * as React from \"react\";\r\nimport _ from 'lodash';\r\nimport { CUqBase } from \"../CBase\";\r\nimport { observable, action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VMain } from \"./VMain\";\r\nimport { VShow } from \"./VShow\";\r\nimport { VEdit } from \"./VEdit\";\r\nimport { Context, PageItems, Query, nav } from \"tonva\";\r\nimport { VPickImage } from \"./VPickImage\";\r\nimport { VPickTemplate } from \"./VPickTemplate\";\r\nimport { VRelease } from \"./VRelease \";\r\nimport { IdCache } from \"tonva/uq/tuid/idCache\";\r\n\r\n// 贴文模板\r\nclass PageTemplate extends PageItems<any> {\r\n    private searchTemplateQuery: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchTemplateQuery = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchTemplateQuery.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\n// 贴文\r\nclass PagePosts extends PageItems<any> {\r\n\r\n    private searchPostsQuery: Query;\r\n\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 8;\r\n        this.searchPostsQuery = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchPostsQuery.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\n// 图片\r\nclass PageMedia extends PageItems<any> {\r\n    private searchMediaQuery: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchMediaQuery = searchQuery;\r\n    }\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchMediaQuery.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CPosts extends CUqBase {\r\n    @observable pageTemplate: PageTemplate;\r\n    @observable pagePosts: PagePosts;\r\n    @observable pageMedia: PageMedia;\r\n    @observable items: any[];\r\n    @observable current: any;\r\n    @observable flg: boolean = true;\r\n\r\n    protected async internalStart(param: any) {\r\n    }\r\n\r\n    /* 贴文查询*/\r\n    searchPostsKey = async (key: string, author: any) => {\r\n        this.pagePosts = new PagePosts(this.uqs.webBuilder.SearchPost);\r\n        this.pagePosts.first({ key: key, author: author });\r\n    }\r\n\r\n    /* posts模板查询*/\r\n    searchTemplateKey = async (key: string) => {\r\n        this.pageTemplate = new PageTemplate(this.uqs.webBuilder.SearchTemplate);\r\n        this.pageTemplate.first({ key: key });\r\n    }\r\n\r\n    searchMadiaKey = async (key: string) => {\r\n        this.pageMedia = new PageMedia(this.uqs.webBuilder.SearchImage);\r\n        this.pageMedia.first({ key: key });\r\n    }\r\n\r\n    // 保存Post\r\n    saveItem = async (id: number, param: any) => {\r\n        param.author = this.user.id;\r\n        let ret = await this.uqs.webBuilder.Post.save(id, param);\r\n        if (id) {\r\n            let item = this.pagePosts.items.find(v => v.id === id);\r\n            if (item !== undefined) {\r\n                _.merge(item, param);\r\n                item.$update = new Date();\r\n            }\r\n            this.current = item;\r\n            this.closePage();\r\n        }\r\n        else {\r\n            param.id = ret.id;\r\n            param.$create = new Date();\r\n            param.$update = new Date();\r\n            this.pagePosts.items.unshift(param);\r\n            this.current = param;\r\n        }\r\n        this.searchPostsKey(\"\", nav.user);\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VMain)\r\n    })\r\n\r\n    onAdd = () => {\r\n        this.current = undefined;\r\n        this.openVPage(VEdit);\r\n    }\r\n\r\n    renderLabel() {\r\n        return this.renderView(VPickTemplate);\r\n    }\r\n\r\n    loadList = async () => {\r\n        if (this.flg) {\r\n            this.searchPostsKey(\"\", nav.user);\r\n        } else {\r\n            this.searchPostsKey(\"\", 0);\r\n        }\r\n        this.items = await this.uqs.webBuilder.Post.search('', 0, 100);\r\n\r\n    }\r\n\r\n    showDetail = async (id: number) => {\r\n        this.current = await this.uqs.webBuilder.Post.load(id);\r\n        this.openVPage(VShow);\r\n    }\r\n\r\n    pickImage = async (context: Context, name: string, value: number): Promise<any> => {\r\n        this.searchMadiaKey(\"\");\r\n        return await this.vCall(VPickImage);\r\n    }\r\n\r\n    onPickedImage = (id: number) => {\r\n        this.closePage();\r\n        this.returnCall(this.uqs.webBuilder.Image.boxId(id));\r\n    }\r\n\r\n    pickTemplate = async (context: Context, name: string, value: number): Promise<any> => {\r\n        this.searchTemplateKey(\"\");\r\n        return await this.vCall(VPickTemplate);\r\n    }\r\n\r\n    onPickedTemplate = (id: number) => {\r\n        this.closePage();\r\n        this.returnCall(this.uqs.webBuilder.Template.boxId(id));\r\n    }\r\n\r\n    onShowRelease = async () => {\r\n        this.openVPage(VRelease);\r\n    }\r\n\r\n    publishPost = async (param: any) => {\r\n        this.searchPostsKey(\"\", 0);\r\n        await this.uqs.webBuilder.PublishPost.submit({ _post: this.current.id, _operator: nav.user, tags: [{ tagName: param[0] }, { tagName: param[1] }, { tagName: param[2] }, { tagName: param[3] }] })\r\n    }\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}","import * as React from \"react\";\r\nimport { consts } from \"consts\";\r\nimport { CMedia } from \"./CMedia\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VPage, Page, FA, List, LMR, EasyTime, SearchBox } from \"tonva\";\r\nimport copy from 'copy-to-clipboard';\r\n\r\nexport class VMain extends VPage<CMedia> {\r\n    async open() {\r\n    }\r\n\r\n    render(member: any): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pageMedia, searchMadiaKey, onAddClick } = this.controller;\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80 mt-1 mr-2\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchMadiaKey(key)}\r\n                placeholder=\"请输入图片标题\" />\r\n            <button className=\"btn btn-success btn-sm ml-4 mr-2 align-self-center\" onClick={onAddClick}>\r\n                <FA name=\"plus\" />\r\n            </button>\r\n        </div>;\r\n        return <Page header=\"图片\" headerClassName={consts.headerClass} right={right} onScrollBottom={this.onScrollBottom}>\r\n            <List items={pageMedia} item={{ render: this.renderItem }} />\r\n        </Page>;\r\n    })\r\n\r\n    // private itemClick = (item: any) => {\r\n    //     this.controller.showMedia(item.id);\r\n    // }\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pageMedia.more();\r\n    }\r\n\r\n    private copyClick = (e: any) => {\r\n        copy(e.target.previousElementSibling.innerText)\r\n        alert('拷贝成功')\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { caption, path, $create } = item;\r\n        let right = <div className=\"border p-1\"><img className=\"h-4c w-4c\" src={path} /></div>;\r\n        return <LMR className=\"px-3 py-2 border-bottom\" right={right}>\r\n            <div><b>{caption}</b></div>\r\n            <div className=\"smallPath small\">{path}</div>\r\n            <button style={{ fontWeight: 550, padding:'0 5px'}} className=\"mt-2 strong btn btn-outline-primary\" onClick={this.copyClick}>拷贝</button>\r\n        </LMR >;\r\n    }\r\n}","import * as React from \"react\";\r\nimport { CMedia } from './CMedia';\r\nimport { VPage, Page, EasyTime, Tuid, User, FA, LMR, UserView, tv } from \"tonva\";\r\nimport { observer } from \"mobx-react\";\r\nimport { consts } from \"consts\";\r\n\r\nexport class VShowImg extends VPage<CMedia> {\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { current } = this.controller;\r\n        let { caption, path, author, image, template, discription, $create, $update } = current;\r\n        let date = <span><EasyTime date={$update} /></span>;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);  \r\n        let right = isMe && <button className=\"btn btn-sm btn-success mr-2 align-self-center\"><FA name=\"pencil-square-o\" /></button>;\r\n        let renderAuthor = (user: User) => {\r\n            return <span>{isMe ? '[我]' : user.nick || user.name}</span>;\r\n        };\r\n        return <Page header=\"编辑图片\" headerClassName={consts.headerClass} right={right}>\r\n            <div className=\"p-3\">\r\n                <div className=\"small text-muted p-1\">标题</div>\r\n                <div className=\"mb-1 h6 px-3 py-2 bg-white\">{caption}</div>\r\n                <LMR className=\"mb-3 px-3 small text-black-50\" right={date}>\r\n                    <UserView id={author} render={renderAuthor} />\r\n                </LMR>\r\n                <div className=\"small text-muted p-1\">链接描述</div>\r\n                <div className=\"small text-muted p-1\">内容</div>\r\n                <div className=\"small text-muted p-1\">布局模板</div>\r\n                <div className=\"mb-3 px-3 py-2 bg-white h6\">\r\n                    {tv(template, (values) => <>{values.caption}</>, undefined, () => <small className=\"text-muted\" >[无]</small>)}\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    })\r\n}","import * as React from \"react\";\r\nimport _ from 'lodash';\r\nimport { consts } from \"consts\";\r\nimport { CMedia } from \"./CMedia\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VPage, UiSchema, Schema, UiInputItem, Page, Form, Context, ImageUploader, nav } from \"tonva\";\r\nimport { observable } from \"mobx\";\r\n\r\nexport class VEdit extends VPage<CMedia> {\r\n    @observable private media: any;\r\n    @observable private mediaPath: string;\r\n    private form: Form;\r\n    async open(media: any) {\r\n        this.media = media;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onAddSalesTask = async (model: any) => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private get mediaId() { return this.media && this.media.id; }\r\n    private getMediaPath(resId:string):string { return nav.resUrl + (resId.substr(1)) }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let param = _.clone(context.form.data);\r\n        param.path = this.mediaPath;\r\n        await this.controller.saveItem(this.mediaId, param);\r\n        this.closePage();\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            caption: { widget: 'text', label: '标题', placeholder: '图片标题' } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交' }\r\n        }\r\n    };\r\n\r\n    private schema: Schema = [\r\n        { name: 'caption', type: 'string', required: true },\r\n    ];\r\n\r\n    private onSaved = (resId:string):Promise<void> => {\r\n        this.mediaPath= this.getMediaPath(resId);\r\n        this.closePage();\r\n        return;\r\n    }\r\n\r\n    private onUpload = () => {\r\n        this.media = this.form.data;\r\n        this.openPageElement(<ImageUploader onSaved={this.onSaved} />);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let image:any;\r\n        let saveButton:any;\r\n         if (this.mediaPath) {\r\n            image = <div className=\"m-3 text-center w-max-30c border\"><img className=\"w-8c h-8c border\" src={this.mediaPath} /></div>;\r\n            saveButton = <div className=\"px-1 \">\r\n                <div className=\"text-content text-center\">\r\n                    <button type=\"button\" className=\"btn btn-primary mx-2 col-11\" onClick={this.onAddSalesTask} >保存</button>\r\n                </div>\r\n            </div>;\r\n         }\r\n         else {\r\n            image = <div className=\"text-content text-center\">\r\n                <button className=\"btn btn-primary\" onClick={this.onUpload}>上传图片</button>\r\n            </div>;\r\n         }\r\n\r\n        return <Page header=\"编辑图片\" headerClassName={consts.headerClass}>\r\n            <div className=\"mx-3\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={this.media}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n            {image}\r\n            {saveButton}\r\n        </Page>\r\n    })\r\n}","import * as React from \"react\";\r\nimport _ from 'lodash';\r\nimport { CUqBase } from \"../CBase\";\r\nimport { observable } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VMain } from \"./VMain\";\r\nimport { PageItems, Query } from \"tonva\";\r\nimport { VShowImg } from \"./VShowImg\";\r\nimport { VEdit } from \"./VEdit\";\r\n//import { Content } from \"./model/content\"\r\n\r\n\r\n// 图片\r\nclass PageMedia extends PageItems<any> {\r\n    private searchMediaQuery: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchMediaQuery = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchMediaQuery.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CMedia extends CUqBase {\r\n    @observable pageMedia: PageMedia;\r\n    @observable items: any[];\r\n    @observable current: any;\r\n\r\n    protected async internalStart(param: any) {\r\n\r\n    }\r\n\r\n    searchMadiaKey = async (key: string) => {\r\n        this.pageMedia = new PageMedia(this.uqs.webBuilder.SearchImage);\r\n        this.pageMedia.first({ key: key });\r\n    }\r\n\r\n    //添加任务\r\n    saveItem = async (id: any, param: any) => {\r\n        param.author = this.user.id;\r\n        let ret = await this.uqs.webBuilder.Image.save(id, param);\r\n        if (id) {\r\n            let item = this.items.find(v => v.id === id);\r\n            if (item !== undefined) {\r\n                _.merge(item, param);\r\n                item.$update = new Date();\r\n            }\r\n            this.current = item;\r\n        }\r\n        else {\r\n            param.id = ret.id;\r\n            param.$create = new Date();\r\n            param.$update = new Date();\r\n            this.items.unshift(param);\r\n            this.current = param;\r\n        }\r\n        this.searchMadiaKey(\"\");\r\n    }\r\n\r\n    onAddClick = () => {\r\n        this.current = undefined;\r\n        this.openVPage(VEdit);\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VMain)\r\n    })\r\n\r\n    showMedia = async (id: number) => {\r\n        this.current = await this.uqs.webBuilder.Image.load(id);\r\n        this.openVPage(VShowImg);\r\n    }\r\n\r\n    loadList = async () => {\r\n        this.items = await this.uqs.webBuilder.Image.search('', 0, 100);\r\n        this.searchMadiaKey(\"\");\r\n    }\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}","import * as React from 'react';\r\nimport _ from 'lodash';\r\nimport { CTemplets } from \"./CTemplets\";\r\nimport { VPage, Form, Context, UiSchema, Schema, Page, UiInputItem } from \"tonva\";\r\nimport { observer } from 'mobx-react';\r\nimport { consts } from 'consts';\r\n\r\nexport class VEdit extends VPage<CTemplets> {\r\n    private templet: any;\r\n    private form: Form;\r\n    async open(templet: any) {\r\n        this.templet = templet;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onClickSaveButton = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let id = this.templet && this.templet.id;\r\n        await this.controller.saveItem(id, context.form.data);\r\n        this.closePage();\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            caption: { widget: 'text', label: '标题' },\r\n            content: { widget: 'textarea', label: 'PC模板', placeholder: '请填写模板内容', rows: 8 } as UiInputItem,\r\n            contentModule: { widget: 'textarea', label: '移动端模板', placeholder: '请填写模板内容', rows: 8 } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交' }\r\n        }\r\n    };\r\n\r\n    private schema: Schema = [\r\n        { name: 'caption', type: 'string', required: true },\r\n        { name: 'content', type: 'string', required: true },\r\n        { name: 'contentModule', type: 'string', required: true },\r\n    ];\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let right = <div className=\"cursor-pointer py-1\" >\r\n            <span className=\"iconfont  mx-3 icon-tianjia\" style={{ fontSize: \"20px\", color: \"#ffffff\" }}></span>\r\n        </div>;\r\n        return <Page header=\"编辑模板\" headerClassName={consts.headerClass}>\r\n            <div className=\"mx-3\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={this.templet}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n            <div className=\"text-content\" style={{ textAlign: \"center\" }}>\r\n                <button type=\"button\" className=\"col-12 btn btn-primary mx-2\" onClick={this.onClickSaveButton} >保存</button>\r\n            </div>\r\n        </Page>\r\n    })\r\n}\r\n","import * as React from \"react\";\r\nimport { VPage, Page, List, LMR, EasyTime, FA, SearchBox } from \"tonva\";\r\nimport { consts } from \"consts\";\r\nimport { CTemplets } from \"./CTemplets\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VEdit } from './VEdit';\r\n\r\nexport class VMain extends VPage<CTemplets> {\r\n    async open() {\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n    private page = observer(() => {\r\n        let { pageTemplate, searchTemplateKey } = this.controller;\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80 mt-1 mr-2\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchTemplateKey(key)}\r\n                placeholder=\"请输入模板标题\" />\r\n            <button className=\"btn btn-success btn-sm ml-4 mr-2 align-self-center\" onClick={this.onAddClick}>\r\n                <FA name=\"plus\" />\r\n            </button>\r\n        </div>;\r\n        return <Page header=\"模板\" headerClassName={consts.headerClass} right={right} onScrollBottom={this.onScrollBottom}>\r\n            <List items={pageTemplate} item={{ render: this.renderItem, onClick: this.itemClick }} />\r\n        </Page>;\r\n    });\r\n\r\n    private onAddClick = () => {\r\n        this.openVPage(VEdit);\r\n    }\r\n\r\n    private itemClick = (item: any) => {\r\n        this.controller.showDetail(item.id);\r\n    }\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pageTemplate.more();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { id, caption, content, $create, $update } = item;\r\n        let right = <small className=\"text-muted\"><EasyTime date={$update} /></small>\r\n        return <LMR className=\"px-3 py-2 border-bottom\" right={right}>\r\n            {caption}\r\n        </LMR>;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, LMR, tv, EasyTime, UserView, FA, User, Tuid } from \"tonva\";\r\nimport { CTemplets } from \"./CTemplets\";\r\nimport { VEdit } from './VEdit';\r\nimport { observer } from 'mobx-react';\r\nimport { consts } from 'consts';\r\n\r\nexport class VShow extends VPage<CTemplets> {\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { current: templet } = this.controller;\r\n        if (templet === undefined) {\r\n            return <Page>...</Page>;\r\n        }\r\n        let { caption, content, author, $create, $update, contentModule } = templet;\r\n        let date = <span><EasyTime date={$update} /></span>;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);\r\n        let right = isMe && <button className=\"btn btn-sm btn-success mr-2 align-self-center\" onClick={() => this.openVPage(VEdit, templet)}><FA name=\"pencil-square-o\" /></button>;\r\n        let renderAuthor = (user: User) => {\r\n            return <span>{isMe ? '[我]' : user.nick || user.name}</span>;\r\n        };\r\n        return <Page header=\"模板内容\" headerClassName={consts.headerClass} right={right} >\r\n            <div className=\"p-3\">\r\n                <div className=\"mb-1 h5 px-3 py-2 bg-white\">{caption}</div>    \r\n                <LMR className=\"mb-3 px-3 small text-black-50\" right={date}>\r\n                    <UserView id={author} render={renderAuthor} />\r\n                </LMR>                \r\n                <div className=\"small text-muted p-1\">PC模板</div>\r\n                <pre className=\"mb-3 px-3 py-4 bg-white border\">{content}</pre>       \r\n                <div className=\"small text-muted p-1\">移动端模板</div>\r\n                <pre className=\"mb-3 px-3 py-4 bg-white\">{contentModule}</pre>\r\n            </div>\r\n        </Page>;\r\n    })\r\n}\r\n","import * as React from \"react\";\r\nimport _ from 'lodash';\r\nimport { CUqBase } from \"../CBase\";\r\nimport { observable } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VMain } from \"./VMain\";\r\nimport { VShow } from \"./VShow\";\r\nimport { PageItems, Query } from \"tonva\";\r\n\r\n// 贴文模板\r\nclass PageTemplate extends PageItems<any> {\r\n    private searchTemplateQuery: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchTemplateQuery = searchQuery;\r\n    }\r\n\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchTemplateQuery.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CTemplets extends CUqBase {\r\n    @observable pageTemplate: PageTemplate;\r\n    @observable items: any[];\r\n    @observable current: any;\r\n\r\n    protected async internalStart(param: any) {\r\n    }\r\n\r\n    /* 模板查询*/\r\n    searchTemplateKey = async (key: string) => {\r\n        this.pageTemplate = new PageTemplate(this.uqs.webBuilder.SearchTemplate);\r\n        this.pageTemplate.first({ key: key });\r\n    }\r\n\r\n    //保存\r\n    saveItem = async (id:number, param: any) => {\r\n        param.author = this.user.id;\r\n        let ret = await this.uqs.webBuilder.Template.save(id, param);\r\n        if (id) {\r\n            let item = this.items.find(v => v.id === id);\r\n            if (item !== undefined) {\r\n                _.merge(item, param);\r\n                item.$update = new Date();\r\n            }\r\n            this.current = item;\r\n            this.closePage();\r\n        }\r\n        else {\r\n            param.id = ret.id;\r\n            param.$create = new Date();\r\n            param.$update = new Date();\r\n            this.items.unshift(param);\r\n            this.current = param;\r\n        }\r\n        this.searchTemplateKey(\"\");\r\n    }\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VMain)\r\n    })\r\n\r\n    loadList = async () => {\r\n        this.searchTemplateKey(\"\");\r\n        this.items = await this.uqs.webBuilder.Template.search('', 0, 100);\r\n    }\r\n\r\n    showDetail = async(id:number) => {\r\n        this.current = await this.uqs.webBuilder.Template.load(id);\r\n        this.openVPage(VShow);\r\n    }\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    }\r\n}","import { UQs } from \"./uqs\";\r\nimport { CMe } from \"./me/CMe\";\r\nimport { VMain } from 'ui/main';\r\nimport { CUqBase } from \"./CBase\";\r\nimport { CPage } from \"page/CPage\";\r\nimport { CPosts } from \"./posts/CPosts\";\r\nimport { CMedia } from \"./media/CMedia\";\r\nimport { CAppBase, IConstructor } from \"tonva\";\r\nimport { CTemplets } from \"./templets/CTemplets\";\r\n\r\nexport class CApp extends CAppBase {\r\n    get uqs(): UQs { return this._uqs };\r\n\r\n    cMe: CMe;\r\n    cPosts: CPosts;\r\n    cMedia: CMedia;\r\n    cTemplets: CTemplets;\r\n    cPage: CPage;\r\n\r\n    protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n        return new type(this);\r\n    }\r\n\r\n    protected async internalStart() {\r\n        this.cMe = this.newC(CMe);\r\n        this.cPosts = this.newC(CPosts);\r\n        this.cMedia = this.newC(CMedia);\r\n        this.cTemplets = this.newC(CTemplets);\r\n        this.cPage = this.newC(CPage);\r\n        this.showMain();\r\n    }\r\n\r\n    showMain(initTabName?: string) {\r\n        this.openVPage(VMain, initTabName);\r\n    }\r\n}\r\n","import { AppConfig } from \"tonva\";\r\nimport logo from '../src/static/images/logo.png';\r\nexport const appConfig: AppConfig = {\r\n    appName: '百灵威系统工程部/webBuilder',\r\n    version: '1.00',\r\n    tvs: {},\r\n    oem: '百灵威'\r\n};\r\n\r\nexport const setting = {\r\n    appName: \"轻代理\",\r\n    url: \"http://agent.jkchemical.com\",\r\n    carturl: \"http://shop.jkchemical.com\",\r\n    downloadAppurl: \"http://agent.jkchemical.com/download/jk-agent.apk\",\r\n    sharelogo: \"https://agent.jkchemical.com/sharelogo.png\",\r\n    logo: logo,\r\n    pageHeaderCss: 'bg-primary py-1',\r\n    // sales: undefined as Sales,\r\n}\r\n\r\n// 生产配置\r\nconst GLOABLE_PRODUCTION = {\r\n    CHINA: 44,\r\n    CHINESE: 196,\r\n    SALESREGION_CN: 1\r\n}\r\n\r\n// 测试环境配置\r\nconst GLOABLE_TEST = {\r\n    CHINA: 43,\r\n    CHINESE: 197,\r\n    SALESREGION_CN: 4\r\n}\r\n\r\n// export { GLOABLE_PRODUCTION as GLOABLE };\r\nexport { GLOABLE_TEST as GLOABLE };","import * as React from 'react';\r\nimport './App.css';\r\nimport { NavView, nav, start } from 'tonva';\r\nimport { CApp } from 'CApp';\r\nimport { appConfig } from 'configuration';\r\n\r\nnav.setSettings(appConfig);\r\nclass App extends React.Component {\r\n\r\n  private onLogined = async () => {\r\n    await start(CApp, appConfig);\r\n  }\r\n  public render() {\r\n\r\n    return <NavView onLogined={this.onLogined} />\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './static/font_s1f16n5jysa/iconfont.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}